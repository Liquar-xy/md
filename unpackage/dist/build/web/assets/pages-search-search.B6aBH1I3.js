import{g as s,v as t,a as e,r as a,e as r,w as o,i,o as l,f as c,j as n,t as u,x as h,C as d,D as y,F as g,k as m,I as f,l as _,n as p}from"./index-BgeTyoVd.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=S({data:()=>({currentCity:"éƒ‘å·",searchKeyword:"",searchResults:[],isSearching:!1,autoFocus:!0,searchStatus:"",searchTimer:null,attractions:["ç¾æ™¯å¤©åŸ","å¤§å«åŸ","å›½è´¸360","ä¸‡ç‰¹","å°‘æ—å¯º","é“¶åŸºåŠ¨ç‰©ç‹å›½"],stations:["éƒ‘å·ç«™","éƒ‘å·ä¸œç«™","æ–°éƒ‘å›½é™…æœºåœº"],subwayStations:["äºŒä¸ƒå¹¿åœº","é™‡æµ·è·¯åœ°é“ç«™","èˆªæµ·å¹¿åœºç«™","é™‡æµ·è·¯åœ°é“ç«™","èˆªæµ·å¹¿åœºç«™"],businessAreas:["ç†™åœ°æ¸¯è´­ç‰©ä¸­å¿ƒ","äºŒä¸ƒå¹¿åœº","æ­£å¼˜åŸ","äºŒä¸ƒå¹¿åœº","æ­£å¼˜åŸ"],cityCategories:{"éƒ‘å·":{attractions:["ç¾æ™¯å¤©åŸ","å¤§å«åŸ","å›½è´¸360","ä¸‡ç‰¹","å°‘æ—å¯º","é“¶åŸºåŠ¨ç‰©ç‹å›½"],stations:["éƒ‘å·ç«™","éƒ‘å·ä¸œç«™","æ–°éƒ‘å›½é™…æœºåœº"],subwayStations:["äºŒä¸ƒå¹¿åœº","é™‡æµ·è·¯åœ°é“ç«™","èˆªæµ·å¹¿åœºç«™","ç´«è†å±±ç«™","äººæ°‘è·¯ç«™"],businessAreas:["ç†™åœ°æ¸¯è´­ç‰©ä¸­å¿ƒ","äºŒä¸ƒå¹¿åœº","æ­£å¼˜åŸ","ä¸‡è¾¾å¹¿åœº","å›½è´¸360"]},"åŒ—äº¬":{attractions:["å¤©å®‰é—¨","æ•…å®«","é¢å’Œå›­","å¤©å›","é•¿åŸ","é¸Ÿå·¢"],stations:["åŒ—äº¬ç«™","åŒ—äº¬è¥¿ç«™","åŒ—äº¬å—ç«™","é¦–éƒ½å›½é™…æœºåœº","å¤§å…´å›½é™…æœºåœº"],subwayStations:["å¤©å®‰é—¨ä¸œ","ç‹åºœäº•","è¥¿å•","å›½è´¸","ä¸‰é‡Œå±¯"],businessAreas:["ç‹åºœäº•","è¥¿å•","å›½è´¸","ä¸‰é‡Œå±¯","ä¸­å…³æ‘"]},"ä¸Šæµ·":{attractions:["å¤–æ»©","ä¸œæ–¹æ˜ç ","è±«å›­","åŸéšåº™","æœ±å®¶è§’","è¿ªå£«å°¼"],stations:["ä¸Šæµ·ç«™","ä¸Šæµ·è™¹æ¡¥ç«™","ä¸Šæµ·å—ç«™","æµ¦ä¸œå›½é™…æœºåœº","è™¹æ¡¥æœºåœº"],subwayStations:["äººæ°‘å¹¿åœº","å—äº¬è·¯","é™†å®¶å˜´","å¾å®¶æ±‡","é™å®‰å¯º"],businessAreas:["å—äº¬è·¯","æ·®æµ·è·¯","é™†å®¶å˜´","å¾å®¶æ±‡","é™å®‰å¯º"]},"å¹¿å·":{attractions:["å¹¿å·å¡”","é™ˆå®¶ç¥ ","æ²™é¢","ç™½äº‘å±±","é•¿éš†","ç æ±Ÿå¤œæ¸¸"],stations:["å¹¿å·ç«™","å¹¿å·å—ç«™","å¹¿å·ä¸œç«™","ç™½äº‘å›½é™…æœºåœº"],subwayStations:["ä½“è‚²è¥¿è·¯","ç æ±Ÿæ–°åŸ","åŒ—äº¬è·¯","ä¸Šä¸‹ä¹","å¤©æ²³åŸ"],businessAreas:["å¤©æ²³åŸ","åŒ—äº¬è·¯","ä¸Šä¸‹ä¹","ç æ±Ÿæ–°åŸ","ä¸‡è±æ±‡"]},"æ·±åœ³":{attractions:["ä¸–ç•Œä¹‹çª—","æ¬¢ä¹è°·","å¤§æ¢…æ²™","è²èŠ±å±±","åä¾¨åŸ","ä¸œéƒ¨åä¾¨åŸ"],stations:["æ·±åœ³ç«™","æ·±åœ³åŒ—ç«™","æ·±åœ³ä¸œç«™","å®å®‰å›½é™…æœºåœº"],subwayStations:["ç½—æ¹–","å›½è´¸","åå¼ºåŒ—","è½¦å…¬åº™","ä¸–ç•Œä¹‹çª—"],businessAreas:["åå¼ºåŒ—","ä¸œé—¨","æµ·å²¸åŸ","ä¸‡è±¡åŸ","ç›Šç”°å‡æ—¥å¹¿åœº"]},"æ­å·":{attractions:["è¥¿æ¹–","çµéšå¯º","é›·å³°å¡”","åƒå²›æ¹–","è¥¿æºªæ¹¿åœ°","å®‹åŸ"],stations:["æ­å·ç«™","æ­å·ä¸œç«™","æ­å·å—ç«™","è§å±±å›½é™…æœºåœº"],subwayStations:["è¥¿æ¹–æ–‡åŒ–å¹¿åœº","æ­¦æ—å¹¿åœº","é’±æ±Ÿæ–°åŸ","æ»¨æ±Ÿ","åŸç«™"],businessAreas:["æ­¦æ—å¹¿åœº","æ¹–æ»¨","é’±æ±Ÿæ–°åŸ","è¥¿æºª","æ»¨æ±Ÿ"]},"å—äº¬":{attractions:["ä¸­å±±é™µ","å¤«å­åº™","ç„æ­¦æ¹–","æ€»ç»Ÿåºœ","æ˜å­é™µ","ç§¦æ·®æ²³"],stations:["å—äº¬ç«™","å—äº¬å—ç«™","ç¦„å£å›½é™…æœºåœº"],subwayStations:["æ–°è¡—å£","å¤«å­åº™","é¼“æ¥¼","ç„æ­¦é—¨","ä¸­åé—¨"],businessAreas:["æ–°è¡—å£","å¤«å­åº™","æ¹–å—è·¯","æ±Ÿå®ä¸‡è¾¾","ä»™æ—"]},"æ­¦æ±‰":{attractions:["é»„é¹¤æ¥¼","ä¸œæ¹–","æ­¦æ±‰å¤§å­¦","æˆ·éƒ¨å··","é•¿æ±Ÿå¤§æ¡¥","å½’å…ƒå¯º"],stations:["æ­¦æ±‰ç«™","æ±‰å£ç«™","æ­¦æ˜Œç«™","å¤©æ²³å›½é™…æœºåœº"],subwayStations:["æ±Ÿæ±‰è·¯","ä¸­å—è·¯","å…‰è°·å¹¿åœº","è¡—é“å£","æ­¦æ˜Œç«è½¦ç«™"],businessAreas:["æ±Ÿæ±‰è·¯","ä¸­å—è·¯","å…‰è°·","æ±‰æ­£è¡—","æ¥šæ²³æ±‰è¡—"]},"æˆéƒ½":{attractions:["å®½çª„å··å­","é”¦é‡Œ","æ­¦ä¾¯ç¥ ","æœç”«è‰å ‚","é’åŸå±±","éƒ½æ±Ÿå °"],stations:["æˆéƒ½ç«™","æˆéƒ½ä¸œç«™","åŒæµå›½é™…æœºåœº","å¤©åºœå›½é™…æœºåœº"],subwayStations:["æ˜¥ç†™è·¯","å¤©åºœå¹¿åœº","éª¡é©¬å¸‚","å¤ªå¤é‡Œ","é‡‘æ²™é—å€"],businessAreas:["æ˜¥ç†™è·¯","å¤ªå¤é‡Œ","å¤©åºœå¹¿åœº","å»ºè®¾è·¯","é‡‘æ²™"]},"è¥¿å®‰":{attractions:["å…µé©¬ä¿‘","å¤§é›å¡”","é’Ÿæ¥¼","å¤åŸå¢™","åæ¸…æ± ","æ³•é—¨å¯º"],stations:["è¥¿å®‰ç«™","è¥¿å®‰åŒ—ç«™","å’¸é˜³å›½é™…æœºåœº"],subwayStations:["é’Ÿæ¥¼","å°å¯¨","å¤§é›å¡”","åŒ—å¤§è¡—","çººç»‡åŸ"],businessAreas:["é’Ÿæ¥¼","å°å¯¨","å¤§é›å¡”","é«˜æ–°åŒº","æ›²æ±Ÿ"]},"æ²ˆé˜³":{attractions:["æ²ˆé˜³æ•…å®«","å¼ æ°å¸…åºœ","åŒ—é™µå…¬å›­","ä¸œé™µå…¬å›­","æ²ˆé˜³æ¤ç‰©å›­","æ£‹ç›˜å±±"],stations:["æ²ˆé˜³ç«™","æ²ˆé˜³åŒ—ç«™","æ²ˆé˜³å—ç«™","æ¡ƒä»™å›½é™…æœºåœº"],subwayStations:["å¤ªåŸè¡—","ä¸­è¡—","æ²ˆé˜³ç«™","é’å¹´å¤§è¡—","å¥¥ä½“ä¸­å¿ƒ"],businessAreas:["å¤ªåŸè¡—","ä¸­è¡—","é“è¥¿å¹¿åœº","æ²ˆåŒ—æ–°åŒº","æµ‘å—æ–°åŒº"]},"æ²ˆé˜³å¸‚":{attractions:["æ²ˆé˜³æ•…å®«","å¼ æ°å¸…åºœ","åŒ—é™µå…¬å›­","ä¸œé™µå…¬å›­","æ²ˆé˜³æ¤ç‰©å›­","æ£‹ç›˜å±±"],stations:["æ²ˆé˜³ç«™","æ²ˆé˜³åŒ—ç«™","æ²ˆé˜³å—ç«™","æ¡ƒä»™å›½é™…æœºåœº"],subwayStations:["å¤ªåŸè¡—","ä¸­è¡—","æ²ˆé˜³ç«™","é’å¹´å¤§è¡—","å¥¥ä½“ä¸­å¿ƒ"],businessAreas:["å¤ªåŸè¡—","ä¸­è¡—","é“è¥¿å¹¿åœº","æ²ˆåŒ—æ–°åŒº","æµ‘å—æ–°åŒº"]}}}),onLoad(t){console.log("ğŸ” æœç´¢é¡µé¢åŠ è½½æˆåŠŸ"),console.log("ğŸ” é¡µé¢å‚æ•°:",t),this.searchStatus="é¡µé¢åŠ è½½å®Œæˆ";try{const t=s("selectedCity");t?(this.currentCity=t.name,this.searchStatus=`æ­£åœ¨${t.name}ä¸ºæ‚¨æœç´¢å¯„å­˜ç‚¹`,console.log("âœ… è·å–åˆ°é€‰æ‹©çš„åŸå¸‚:",t.name)):(this.searchStatus=`æ­£åœ¨${this.currentCity}ä¸ºæ‚¨æœç´¢å¯„å­˜ç‚¹`,console.log("âš ï¸ æœªæ‰¾åˆ°é€‰æ‹©çš„åŸå¸‚ï¼Œä½¿ç”¨é»˜è®¤åŸå¸‚:",this.currentCity))}catch(e){console.error("âŒ è·å–åŸå¸‚ä¿¡æ¯å¤±è´¥:",e),this.searchStatus="è·å–åŸå¸‚ä¿¡æ¯å¤±è´¥"}this.updateCategoryData(),t.keyword?(this.searchKeyword=decodeURIComponent(t.keyword),this.autoFocus=!1,setTimeout((()=>{this.performSearch()}),500)):setTimeout((()=>{this.searchStatus=""}),2e3)},onShow(){try{const t=s("selectedCity");console.log("ğŸ” æœç´¢é¡µé¢onShowæ£€æŸ¥åŸå¸‚:",{"å­˜å‚¨ä¸­çš„åŸå¸‚":null==t?void 0:t.name,"å½“å‰æ˜¾ç¤ºåŸå¸‚":this.currentCity}),t&&t.name!==this.currentCity?(console.log("ğŸ™ï¸ æœç´¢é¡µé¢æ£€æµ‹åˆ°åŸå¸‚å˜åŒ–:",{"ä»":this.currentCity,"åˆ°":t.name}),this.currentCity=t.name,this.updateCategoryData(),this.searchResults=[],this.searchStatus="",this.searchKeyword&&(console.log("ğŸ”„ åŸå¸‚å˜åŒ–åé‡æ–°æœç´¢:",this.searchKeyword),setTimeout((()=>{this.performSearch()}),300))):t&&this.updateCategoryData()}catch(t){console.error("æœç´¢é¡µé¢onShowå¤„ç†åŸå¸‚å˜åŒ–æ—¶å‡ºé”™:",t)}},methods:{updateCategoryData(){console.log("ğŸ”„ æ›´æ–°æœç´¢åˆ†ç±»æ•°æ®ï¼Œå½“å‰åŸå¸‚:",this.currentCity);const s=this.cityCategories[this.currentCity];if(s)this.attractions=[...s.attractions],this.stations=[...s.stations],this.subwayStations=[...s.subwayStations],this.businessAreas=[...s.businessAreas],console.log("âœ… åˆ†ç±»æ•°æ®å·²æ›´æ–°:",{city:this.currentCity,attractions:this.attractions.length,stations:this.stations.length,subwayStations:this.subwayStations.length,businessAreas:this.businessAreas.length});else{console.log("âš ï¸ æœªæ‰¾åˆ°åŸå¸‚åˆ†ç±»æ•°æ®é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆ");const s=this.generateCityCategories(this.currentCity);this.attractions=[...s.attractions],this.stations=[...s.stations],this.subwayStations=[...s.subwayStations],this.businessAreas=[...s.businessAreas],this.cityCategories[this.currentCity]=s,console.log("âœ… è‡ªåŠ¨ç”Ÿæˆåˆ†ç±»æ•°æ®å®Œæˆ:",{city:this.currentCity,attractions:this.attractions.length,stations:this.stations.length,subwayStations:this.subwayStations.length,businessAreas:this.businessAreas.length})}},generateCityCategories(s){console.log("ğŸ¯ ä¸ºåŸå¸‚è‡ªåŠ¨ç”Ÿæˆåˆ†ç±»æ•°æ®:",s);const t=s.replace(/[å¸‚çœåŒºå¿]/g,"");return{attractions:[`${t}åšç‰©é¦†`,`${t}å…¬å›­`,`${t}å¹¿åœº`,`${t}å¤åŸ`,`${t}é£æ™¯åŒº`,`${t}æ–‡åŒ–ä¸­å¿ƒ`],stations:[`${t}ç«™`,`${t}ä¸œç«™`,`${t}åŒ—ç«™`,`${t}æœºåœº`],subwayStations:[`${t}ä¸­å¿ƒç«™`,`${t}å¹¿åœºç«™`,`${t}ç«è½¦ç«™`,`${t}æ±½è½¦ç«™`,`${t}ä½“è‚²é¦†ç«™`],businessAreas:[`${t}ä¸‡è¾¾`,`${t}è´­ç‰©ä¸­å¿ƒ`,`${t}å•†ä¸šè¡—`,`${t}æ­¥è¡Œè¡—`]}},selectCity(){t({url:"/pages/city-select/city-select?from=search"})},onSearchInput(s){this.searchKeyword=s.detail.value,this.searchStatus="",clearTimeout(this.searchTimer),this.searchKeyword.trim()?(this.searchStatus=`æ­£åœ¨æœç´¢"${this.searchKeyword.trim()}"...`,this.searchTimer=setTimeout((()=>{this.performSearch()}),800)):(this.searchResults=[],this.searchStatus="")},performSearch(){const s=this.searchKeyword.trim();s?(console.log("ğŸ” æ‰§è¡Œæœç´¢:",s),this.searchResults=[],this.isSearching=!0,this.searchStatus=`æ­£åœ¨æœç´¢"${s}"...`,this.callSearchAPI(s)):e({title:"è¯·è¾“å…¥æœç´¢å…³é”®è¯",icon:"none"})},callSearchAPI(s){console.log("ğŸ“¡ è°ƒç”¨åç«¯æœç´¢æ¥å£:",s);const t=`http://localhost:8000/api/nearby/city/search?${new URLSearchParams({city_name:this.currentCity,keyword:s,page:"1",page_size:"20"}).toString()}`;console.log("ğŸ” æœç´¢è¯·æ±‚URL:",t),a({url:t,method:"GET",header:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4,success:t=>{console.log("âœ… æœç´¢æ¥å£å“åº”:",t),this.handleSearchSuccess(t.data,s)},fail:t=>{console.log("âŒ æœç´¢æ¥å£å¤±è´¥:",t),this.handleSearchError(s,t)},complete:()=>{this.isSearching=!1}})},handleSearchSuccess(s,t){console.log("ğŸ”„ å¤„ç†æœç´¢æˆåŠŸå“åº”:",s);try{let a=[];s&&s.items&&Array.isArray(s.items)?a=s.items:s&&Array.isArray(s)?a=s:s&&s.data&&Array.isArray(s.data)&&(a=s.data),console.log("ğŸ“Š è§£æåˆ°çš„ç»“æœæ•°é‡:",a.length),a.length>0?(this.searchResults=a.map(((s,t)=>({id:s.id||t+1,name:s.name||`å¯„å­˜ç‚¹${t+1}`,address:s.address||s.location||"åœ°å€ä¿¡æ¯æš‚æ— ",distance:s.distance?`${s.distance.toFixed(1)}km`:"",large:parseInt(s.large_count||s.large||0),medium:parseInt(s.medium_count||s.medium||0),small:parseInt(s.small_count||s.small||0),price:s.price||"2å…ƒ/å°æ—¶èµ·",status:s.status||"available"}))),this.searchStatus=`åœ¨${this.currentCity}æ‰¾åˆ° ${this.searchResults.length} ä¸ª"${t}"ç›¸å…³çš„å¯„å­˜ç‚¹`,e({title:`æ‰¾åˆ°${this.searchResults.length}ä¸ªå¯„å­˜ç‚¹`,icon:"success",duration:2e3}),console.log("âœ… æœç´¢ç»“æœå¤„ç†å®Œæˆ:",this.searchResults)):this.handleNoResults(t)}catch(a){console.error("âŒ å¤„ç†æœç´¢ç»“æœæ—¶å‡ºé”™:",a),this.handleSearchError(t,a)}},handleSearchError(s,t){console.log("âŒ æœç´¢å¤±è´¥:",t),this.searchResults=[],this.searchStatus="æœç´¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•",e({title:"æœç´¢å¤±è´¥",icon:"error",duration:2e3})},handleNoResults(s){this.searchResults=[],this.searchStatus=`åœ¨${this.currentCity}æ²¡æœ‰æ‰¾åˆ°"${s}"ç›¸å…³çš„å¯„å­˜ç‚¹`,e({title:"æœªæ‰¾åˆ°ç›¸å…³å¯„å­˜ç‚¹",icon:"none",duration:2e3}),setTimeout((()=>{this.searchStatus='è¯•è¯•æœç´¢å…¶ä»–å…³é”®è¯ï¼Œå¦‚"ç«è½¦ç«™"ã€"åœ°é“ç«™"ã€"å•†åœº"ç­‰'}),2e3)},searchLockers(s){this.searchKeyword=s,this.performSearch()},handleSearchSuccess(s,t){console.log("âœ… çœŸå®åç«¯æœç´¢æˆåŠŸ"),console.log("åŸå§‹å“åº”æ•°æ®:",s);try{let a=[],r=0;s.items&&Array.isArray(s.items)?(a=s.items,r=s.total||s.items.length):s.data&&Array.isArray(s.data)?a=s.data:s.results&&Array.isArray(s.results)?a=s.results:s.lockers&&Array.isArray(s.lockers)?a=s.lockers:s.locker_points&&Array.isArray(s.locker_points)?a=s.locker_points:Array.isArray(s)?a=s:(console.log("âš ï¸ æœªè¯†åˆ«çš„å“åº”æ•°æ®æ ¼å¼ï¼Œå°è¯•æå–æ‰€æœ‰å¯èƒ½çš„æ•°ç»„å­—æ®µ"),Object.keys(s).forEach((t=>{Array.isArray(s[t])&&s[t].length>0&&(console.log(`å‘ç°æ•°ç»„å­—æ®µ: ${t}`,s[t]),0===a.length&&(a=s[t]))}))),r=r||s.total||s.total_count||s.count||a.length,console.log("è§£æåçš„æœç´¢ç»“æœ:",{keyword:t,resultsCount:a.length,totalCount:r,firstResult:a[0]||null}),this.searchStatus="",a&&a.length>0?(this.searchResults=this.processSearchResults(a),console.log("âœ… çœŸå®æ•°æ®å¤„ç†å®Œæˆ:",this.searchResults.length,"ä¸ªå¯„å­˜ç‚¹"),this.searchStatus=`åœ¨${this.currentCity}æ‰¾åˆ° ${this.searchResults.length} ä¸ª"${t}"ç›¸å…³çš„å¯„å­˜ç‚¹`,e({title:`æ‰¾åˆ°${this.searchResults.length}ä¸ªå¯„å­˜ç‚¹`,icon:"success",duration:2e3})):(console.log("âš ï¸ åç«¯è¿”å›ç©ºç»“æœ"),this.searchResults=[],this.searchStatus=`åœ¨${this.currentCity}æœªæ‰¾åˆ°"${t}"ç›¸å…³çš„å¯„å­˜ç‚¹`,e({title:"æœªæ‰¾åˆ°ç›¸å…³å¯„å­˜ç‚¹",icon:"none",duration:2e3}))}catch(a){console.error("å¤„ç†æœç´¢ç»“æœæ—¶å‡ºé”™:",a),this.searchResults=[],this.searchStatus="æœç´¢ç»“æœå¤„ç†å¤±è´¥",e({title:"æœç´¢ç»“æœå¤„ç†å¤±è´¥",icon:"error",duration:2e3})}},processSearchResults(s){return console.log("ğŸ”„ å¤„ç†çœŸå®åç«¯æœç´¢ç»“æœæ•°æ®"),console.log("åŸå§‹ç»“æœæ•°æ®:",s),Array.isArray(s)?s.map(((s,t)=>{console.log(`å¤„ç†ç¬¬${t+1}ä¸ªç»“æœ:`,s);try{const e={id:s.id||s.locker_id||s.point_id||`search_${Date.now()}_${t+1}`,name:s.name||s.locker_name||s.point_name||s.location_name||`å¯„å­˜ç‚¹${t+1}`,address:s.address||s.location||s.location_address||s.full_address||"åœ°å€ä¿¡æ¯å¾…å®Œå–„",distance:this.formatDistance(s.distance||s.dist||0),large:parseInt(s.available_large||s.large_count||s.large||s.large_capacity||s.big_count||0),medium:parseInt(s.available_medium||s.medium_count||s.medium||s.medium_capacity||s.mid_count||0),small:parseInt(s.available_small||s.small_count||s.small||s.small_capacity||0),status:this.mapItemStatus(s.status||s.state||s.available),rating:parseFloat(s.rating||s.score||0),price:parseFloat(s.price||s.cost||0),openTime:s.open_time||s.openTime||"24å°æ—¶",mobile:s.mobile||s.phone||"",rawData:s};return console.log(`å¤„ç†åçš„ç¬¬${t+1}ä¸ªç»“æœ:`,e),e}catch(e){return console.error(`å¤„ç†ç¬¬${t+1}ä¸ªæœç´¢ç»“æœæ—¶å‡ºé”™:`,e,s),{id:`error_${Date.now()}_${t}`,name:`å¯„å­˜ç‚¹${t+1}`,address:"åœ°å€ä¿¡æ¯è·å–å¤±è´¥",distance:"0km",large:0,medium:0,small:0,status:"available",rating:0,price:0,rawData:s}}})):(console.error("æœç´¢ç»“æœä¸æ˜¯æ•°ç»„æ ¼å¼:",s),[])},mapItemStatus(s){if("boolean"==typeof s)return s?"available":"unavailable";if("string"==typeof s){const t=s.toLowerCase();if(t.includes("available")||t.includes("open")||"è¥ä¸šä¸­"===t)return"available";if(t.includes("unavailable")||t.includes("closed")||"æš‚åœæœåŠ¡"===t)return"unavailable"}return"available"},formatDistance:s=>"number"==typeof s?s<1?Math.round(1e3*s)+"m":s.toFixed(1)+"km":"string"==typeof s?s:"è·ç¦»æœªçŸ¥",searchLocation(s){console.log("ğŸ” ç‚¹å‡»æœç´¢ä½ç½®:",s),this.searchKeyword=s,this.searchStatus=`æ­£åœ¨æœç´¢"${s}"ç›¸å…³çš„å¯„å­˜ç‚¹...`,this.performSearch()},selectSearchResult(s){console.log("é€‰æ‹©æœç´¢ç»“æœ:",s),t({url:`/pages/locker-detail/locker-detail?id=${s.id}&name=${encodeURIComponent(s.name)}&address=${encodeURIComponent(s.address)}`})},testSearch(){console.log("ğŸ§ª å¼€å§‹æµ‹è¯•æœç´¢åŠŸèƒ½"),e({title:"æµ‹è¯•åç«¯æœç´¢æ¥å£",icon:"loading",duration:1e3}),this.searchKeyword="ç«è½¦ç«™",this.performSearch()}}},[["render",function(s,t,e,a,S,b){const C=m,w=i,$=f,A=_;return l(),r(w,{class:"page"},{default:o((()=>[c(w,{class:"search-section"},{default:o((()=>[c(w,{class:"city-selector",onClick:b.selectCity},{default:o((()=>[c(C,{class:"city-name"},{default:o((()=>[n(u(S.currentCity),1)])),_:1}),c(C,{class:"dropdown-icon"},{default:o((()=>[n("â–¼")])),_:1})])),_:1},8,["onClick"]),c(w,{class:"search-input-container"},{default:o((()=>[c($,{class:"search-input",placeholder:"æœç´¢ä½ç½®/åœ°å€/æ™¯ç‚¹",modelValue:S.searchKeyword,"onUpdate:modelValue":t[0]||(t[0]=s=>S.searchKeyword=s),onInput:b.onSearchInput,onConfirm:b.performSearch,"confirm-type":"search",focus:S.autoFocus},null,8,["modelValue","onInput","onConfirm","focus"]),c(w,{class:"search-btn",onClick:b.performSearch},{default:o((()=>[c(C,{class:"search-icon"},{default:o((()=>[n("ğŸ”")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),S.searchStatus?(l(),r(w,{key:0,class:"search-status"},{default:o((()=>[c(C,{class:"status-text"},{default:o((()=>[n(u(S.searchStatus),1)])),_:1})])),_:1})):h("",!0),c(w,{class:"content-section"},{default:o((()=>[S.searchResults.length>0?(l(),r(w,{key:0,class:"search-results"},{default:o((()=>[c(w,{class:"results-header"},{default:o((()=>[c(C,{class:"results-title"},{default:o((()=>[n("ğŸª æ‰¾åˆ° "+u(S.searchResults.length)+" ä¸ªå¯„å­˜ç‚¹",1)])),_:1}),c(C,{class:"results-subtitle"},{default:o((()=>[n("ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…")])),_:1})])),_:1}),(l(!0),d(g,null,y(S.searchResults,((s,t)=>(l(),r(w,{class:"result-item",key:t,onClick:t=>b.selectSearchResult(s)},{default:o((()=>[c(w,{class:"result-left"},{default:o((()=>[c(w,{class:"result-icon"},{default:o((()=>[n("ğŸª")])),_:1}),c(w,{class:"result-info"},{default:o((()=>[c(C,{class:"result-name"},{default:o((()=>[n(u(s.name),1)])),_:2},1024),c(C,{class:"result-address"},{default:o((()=>[n("ğŸ“ "+u(s.address),1)])),_:2},1024),c(w,{class:"result-capacity"},{default:o((()=>[c(C,{class:"capacity-item"},{default:o((()=>[n("å¤§"+u(s.large||0),1)])),_:2},1024),c(C,{class:"capacity-item"},{default:o((()=>[n("ä¸­"+u(s.medium||0),1)])),_:2},1024),c(C,{class:"capacity-item"},{default:o((()=>[n("å°"+u(s.small||0),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(w,{class:"result-right"},{default:o((()=>[s.distance?(l(),r(C,{key:0,class:"result-distance"},{default:o((()=>[n(u(s.distance),1)])),_:2},1024)):h("",!0),c(w,{class:p(["result-status",s.status||"available"])},{default:o((()=>[c(C,{class:"status-text"},{default:o((()=>[n(u("available"!==s.status&&s.status?"æš‚åœæœåŠ¡":"è¥ä¸šä¸­"),1)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(l(),r(w,{key:1,class:"category-list"},{default:o((()=>[c(w,{class:"category-intro"},{default:o((()=>[c(C,{class:"intro-title"},{default:o((()=>[n("ğŸ” å¿«é€Ÿæœç´¢")])),_:1}),c(C,{class:"intro-desc"},{default:o((()=>[n("ç‚¹å‡»ä¸‹æ–¹åˆ†ç±»å¿«é€ŸæŸ¥æ‰¾"+u(S.currentCity)+"çš„å¯„å­˜ç‚¹",1)])),_:1}),c(w,{class:"debug-section",style:{"margin-top":"20rpx","text-align":"center"}},{default:o((()=>[c(A,{class:"debug-btn",onClick:b.testSearch,style:{background:"#007AFF",color:"white",border:"none",padding:"10rpx 20rpx","border-radius":"10rpx","font-size":"24rpx"}},{default:o((()=>[n(" æµ‹è¯•æœç´¢åŠŸèƒ½ ")])),_:1},8,["onClick"])])),_:1})])),_:1}),c(w,{class:"category-section"},{default:o((()=>[c(w,{class:"category-header"},{default:o((()=>[c(w,{class:"category-badge attractions"},{default:o((()=>[n("1")])),_:1}),c(C,{class:"category-title"},{default:o((()=>[n("æ™¯ç‚¹")])),_:1}),c(C,{class:"category-count"},{default:o((()=>[n(u(S.attractions.length)+"ä¸ª",1)])),_:1})])),_:1}),c(w,{class:"category-items"},{default:o((()=>[(l(!0),d(g,null,y(S.attractions,((s,t)=>(l(),r(w,{class:"category-item",key:t,onClick:t=>b.searchLocation(s)},{default:o((()=>[c(C,{class:"item-icon"},{default:o((()=>[n("ğŸ¡")])),_:1}),c(C,{class:"item-text"},{default:o((()=>[n(u(s),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),c(w,{class:"category-section"},{default:o((()=>[c(w,{class:"category-header"},{default:o((()=>[c(w,{class:"category-badge stations"},{default:o((()=>[n("ğŸš‚")])),_:1}),c(C,{class:"category-title"},{default:o((()=>[n("æœºåœºè½¦ç«™")])),_:1}),c(C,{class:"category-count"},{default:o((()=>[n(u(S.stations.length)+"ä¸ª",1)])),_:1})])),_:1}),c(w,{class:"category-items"},{default:o((()=>[(l(!0),d(g,null,y(S.stations,((s,t)=>(l(),r(w,{class:"category-item",key:t,onClick:t=>b.searchLocation(s)},{default:o((()=>[c(C,{class:"item-icon"},{default:o((()=>[n("ğŸš‚")])),_:1}),c(C,{class:"item-text"},{default:o((()=>[n(u(s),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),c(w,{class:"category-section"},{default:o((()=>[c(w,{class:"category-header"},{default:o((()=>[c(w,{class:"category-badge subway"},{default:o((()=>[n("ğŸš‡")])),_:1}),c(C,{class:"category-title"},{default:o((()=>[n("åœ°é“ç«™")])),_:1}),c(C,{class:"category-count"},{default:o((()=>[n(u(S.subwayStations.length)+"ä¸ª",1)])),_:1})])),_:1}),c(w,{class:"category-items"},{default:o((()=>[(l(!0),d(g,null,y(S.subwayStations,((s,t)=>(l(),r(w,{class:"category-item",key:t,onClick:t=>b.searchLocation(s)},{default:o((()=>[c(C,{class:"item-icon"},{default:o((()=>[n("ğŸš‡")])),_:1}),c(C,{class:"item-text"},{default:o((()=>[n(u(s),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),c(w,{class:"category-section"},{default:o((()=>[c(w,{class:"category-header"},{default:o((()=>[c(w,{class:"category-badge business"},{default:o((()=>[n("ğŸ¢")])),_:1}),c(C,{class:"category-title"},{default:o((()=>[n("å•†åœˆ")])),_:1}),c(C,{class:"category-count"},{default:o((()=>[n(u(S.businessAreas.length)+"ä¸ª",1)])),_:1})])),_:1}),c(w,{class:"category-items"},{default:o((()=>[(l(!0),d(g,null,y(S.businessAreas,((s,t)=>(l(),r(w,{class:"category-item",key:t,onClick:t=>b.searchLocation(s)},{default:o((()=>[c(C,{class:"item-icon"},{default:o((()=>[n("ğŸ¢")])),_:1}),c(C,{class:"item-text"},{default:o((()=>[n(u(s),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}))])),_:1}),S.isSearching?(l(),r(w,{key:1,class:"loading-overlay"},{default:o((()=>[c(w,{class:"loading-content"},{default:o((()=>[c(w,{class:"loading-spinner"}),c(C,{class:"loading-text"},{default:o((()=>[n("æ­£åœ¨æœç´¢...")])),_:1})])),_:1})])),_:1})):h("",!0)])),_:1})}],["__scopeId","data-v-43aed8cc"]]);export{b as default};
