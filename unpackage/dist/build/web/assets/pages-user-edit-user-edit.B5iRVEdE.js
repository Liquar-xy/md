import{y as a,a as e,z as s,g as t,c as l,b as r,h as n,A as o,p as i,e as u,w as c,i as m,o as h,f as d,j as p,u as v,k as f,I as U,l as b}from"./index-C_HCjYUn.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const N=_({data:()=>({username:"æ™ºæ…§å­˜0987",phoneNumber:"18512345678",avatarUrl:""}),onLoad(a){this.loadUserData(),!this.username&&a.username&&(this.username=a.username),!this.phoneNumber&&a.phoneNumber&&(this.phoneNumber=a.phoneNumber),!this.avatarUrl&&a.avatarUrl&&(this.avatarUrl=a.avatarUrl)},methods:{handleAvatarClick(){a({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{console.log("é€‰æ‹©çš„å›¾ç‰‡:",a.tempFilePaths[0]),this.avatarUrl=a.tempFilePaths[0],e({title:"å¤´åƒé€‰æ‹©æˆåŠŸ",icon:"success"})},fail:a=>{console.log("é€‰æ‹©å›¾ç‰‡å¤±è´¥:",a),e({title:"é€‰æ‹©å›¾ç‰‡å¤±è´¥",icon:"none"})}})},uploadAvatar(a){s({url:"YOUR_UPLOAD_URL",filePath:a,name:"avatar",success:a=>{console.log("å¤´åƒä¸Šä¼ æˆåŠŸ:",a)},fail:a=>{console.log("å¤´åƒä¸Šä¼ å¤±è´¥:",a),e({title:"å¤´åƒä¸Šä¼ å¤±è´¥",icon:"none"})}})},loadUserData(){try{const a=t("userData");if(a){const e=JSON.parse(a);this.username=e.username||"",this.phoneNumber=e.phoneNumber||"",this.avatarUrl=e.avatarUrl||""}}catch(a){console.log("åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥:",a)}},saveUserData(){try{const a={username:this.username,phoneNumber:this.phoneNumber,avatarUrl:this.avatarUrl};l("userData",JSON.stringify(a)),console.log("ç”¨æˆ·æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨")}catch(a){console.log("ä¿å­˜ç”¨æˆ·æ•°æ®å¤±è´¥:",a)}},handleSave(){if(!this.username.trim())return void e({title:"è¯·è¾“å…¥ç”¨æˆ·å",icon:"none"});if(!this.phoneNumber)return void e({title:"è¯·è¾“å…¥æ‰‹æœºå·",icon:"none"});/^1[3-9]\d{9}$/.test(this.phoneNumber)?(r({title:"ä¿å­˜ä¸­..."}),this.saveUserData(),setTimeout((()=>{n(),console.log("ä¿å­˜çš„ç”¨æˆ·ä¿¡æ¯:",{username:this.username,phoneNumber:this.phoneNumber,avatarUrl:this.avatarUrl}),e({title:"ä¿å­˜æˆåŠŸ",icon:"success",success:()=>{setTimeout((()=>{const a=o(),e=a[a.length-2];e&&e.$vm&&(e.$vm.username=this.username,e.$vm.phoneNumber=this.phoneNumber,e.$vm.avatarUrl=this.avatarUrl,e.$vm.$forceUpdate()),i()}),1500)}})}),1e3)):e({title:"è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·",icon:"none"})}}},[["render",function(a,e,s,t,l,r){const n=v,o=f,i=m,_=U,N=b;return h(),u(i,{class:"edit-container"},{default:c((()=>[d(i,{class:"avatar-section"},{default:c((()=>[d(i,{class:"avatar-container",onClick:r.handleAvatarClick},{default:c((()=>[d(i,{class:"avatar"},{default:c((()=>[l.avatarUrl?(h(),u(n,{key:0,src:l.avatarUrl,class:"avatar-image",mode:"aspectFill"},null,8,["src"])):(h(),u(o,{key:1,class:"avatar-icon"},{default:c((()=>[p("ğŸ‘¤")])),_:1}))])),_:1}),d(i,{class:"edit-overlay"},{default:c((()=>[d(o,{class:"edit-text"},{default:c((()=>[p("ç‚¹å‡»ä¿®æ”¹")])),_:1})])),_:1})])),_:1},8,["onClick"])])),_:1}),d(i,{class:"info-section"},{default:c((()=>[d(i,{class:"info-item"},{default:c((()=>[d(o,{class:"info-label"},{default:c((()=>[p("ç”¨æˆ·å")])),_:1}),d(_,{class:"info-input",type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=a=>l.username=a),maxlength:"20"},null,8,["modelValue"])])),_:1}),d(i,{class:"info-item"},{default:c((()=>[d(o,{class:"info-label"},{default:c((()=>[p("æ‰‹æœºå·")])),_:1}),d(_,{class:"info-input",type:"number",placeholder:"è¯·è¾“å…¥æ‰‹æœºå·",modelValue:l.phoneNumber,"onUpdate:modelValue":e[1]||(e[1]=a=>l.phoneNumber=a),maxlength:"11"},null,8,["modelValue"])])),_:1})])),_:1}),d(i,{class:"button-section"},{default:c((()=>[d(N,{class:"save-btn",onClick:r.handleSave},{default:c((()=>[p("ä¿å­˜ä¿®æ”¹")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-d0b9499a"]]);export{N as default};
