import{p as t,g as e,a as i,r as s,v as a,c as n,e as o,w as l,i as c,o as r,f as u,j as d,x as g,t as h,C as y,D as C,F as f,k as p,I as _,S as m,n as k}from"./index-BgeTyoVd.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=b({data:()=>({searchKeyword:"",currentSelectedCity:null,locationCity:null,cities:[],hotCities:[],isLoading:!1,loadingText:"æ­£åœ¨åŠ è½½åŸå¸‚åˆ—è¡¨...",currentLetter:"A",searchTimer:null,fromPage:"",currentCityCategories:{attractions:[],stations:[],subwayStations:[],businessAreas:[]},cityCategories:{"éƒ‘å·":{attractions:["ç¾æ™¯å¤©åŸ","å¤§å«åŸ","å›½è´¸360","ä¸‡ç‰¹","å°‘æ—å¯º","é“¶åŸºåŠ¨ç‰©ç‹å›½"],stations:["éƒ‘å·ç«™","éƒ‘å·ä¸œç«™","æ–°éƒ‘å›½é™…æœºåœº"],subwayStations:["äºŒä¸ƒå¹¿åœº","é™‡æµ·è·¯åœ°é“ç«™","èˆªæµ·å¹¿åœºç«™","ç´«è†å±±ç«™","äººæ°‘è·¯ç«™"],businessAreas:["ç†™åœ°æ¸¯è´­ç‰©ä¸­å¿ƒ","äºŒä¸ƒå¹¿åœº","æ­£å¼˜åŸ","ä¸‡è¾¾å¹¿åœº","å›½è´¸360"]},"åŒ—äº¬":{attractions:["å¤©å®‰é—¨","æ•…å®«","é¢å’Œå›­","å¤©å›","é•¿åŸ","é¸Ÿå·¢"],stations:["åŒ—äº¬ç«™","åŒ—äº¬è¥¿ç«™","åŒ—äº¬å—ç«™","é¦–éƒ½å›½é™…æœºåœº","å¤§å…´å›½é™…æœºåœº"],subwayStations:["å¤©å®‰é—¨ä¸œ","ç‹åºœäº•","è¥¿å•","å›½è´¸","ä¸‰é‡Œå±¯"],businessAreas:["ç‹åºœäº•","è¥¿å•","å›½è´¸","ä¸‰é‡Œå±¯","ä¸­å…³æ‘"]},"ä¸Šæµ·":{attractions:["å¤–æ»©","ä¸œæ–¹æ˜ç ","è±«å›­","åŸéšåº™","æœ±å®¶è§’","è¿ªå£«å°¼"],stations:["ä¸Šæµ·ç«™","ä¸Šæµ·è™¹æ¡¥ç«™","ä¸Šæµ·å—ç«™","æµ¦ä¸œå›½é™…æœºåœº","è™¹æ¡¥æœºåœº"],subwayStations:["äººæ°‘å¹¿åœº","å—äº¬è·¯","é™†å®¶å˜´","å¾å®¶æ±‡","é™å®‰å¯º"],businessAreas:["å—äº¬è·¯","æ·®æµ·è·¯","é™†å®¶å˜´","å¾å®¶æ±‡","é™å®‰å¯º"]},"å¹¿å·":{attractions:["å¹¿å·å¡”","é™ˆå®¶ç¥ ","æ²™é¢","ç™½äº‘å±±","é•¿éš†","ç æ±Ÿå¤œæ¸¸"],stations:["å¹¿å·ç«™","å¹¿å·å—ç«™","å¹¿å·ä¸œç«™","ç™½äº‘å›½é™…æœºåœº"],subwayStations:["ä½“è‚²è¥¿è·¯","ç æ±Ÿæ–°åŸ","åŒ—äº¬è·¯","ä¸Šä¸‹ä¹","å¤©æ²³åŸ"],businessAreas:["å¤©æ²³åŸ","åŒ—äº¬è·¯","ä¸Šä¸‹ä¹","ç æ±Ÿæ–°åŸ","ä¸‡è±æ±‡"]},"æ·±åœ³":{attractions:["ä¸–ç•Œä¹‹çª—","æ¬¢ä¹è°·","å¤§æ¢…æ²™","è²èŠ±å±±","åä¾¨åŸ","ä¸œéƒ¨åä¾¨åŸ"],stations:["æ·±åœ³ç«™","æ·±åœ³åŒ—ç«™","æ·±åœ³ä¸œç«™","å®å®‰å›½é™…æœºåœº"],subwayStations:["ç½—æ¹–","å›½è´¸","åå¼ºåŒ—","è½¦å…¬åº™","ä¸–ç•Œä¹‹çª—"],businessAreas:["åå¼ºåŒ—","ä¸œé—¨","æµ·å²¸åŸ","ä¸‡è±¡åŸ","ç›Šç”°å‡æ—¥å¹¿åœº"]},"æ­å·":{attractions:["è¥¿æ¹–","çµéšå¯º","é›·å³°å¡”","åƒå²›æ¹–","è¥¿æºªæ¹¿åœ°","å®‹åŸ"],stations:["æ­å·ç«™","æ­å·ä¸œç«™","æ­å·å—ç«™","è§å±±å›½é™…æœºåœº"],subwayStations:["è¥¿æ¹–æ–‡åŒ–å¹¿åœº","æ­¦æ—å¹¿åœº","é’±æ±Ÿæ–°åŸ","æ»¨æ±Ÿ","åŸç«™"],businessAreas:["æ­¦æ—å¹¿åœº","æ¹–æ»¨","é’±æ±Ÿæ–°åŸ","è¥¿æºª","æ»¨æ±Ÿ"]},"å—äº¬":{attractions:["ä¸­å±±é™µ","å¤«å­åº™","ç„æ­¦æ¹–","æ€»ç»Ÿåºœ","æ˜å­é™µ","ç§¦æ·®æ²³"],stations:["å—äº¬ç«™","å—äº¬å—ç«™","ç¦„å£å›½é™…æœºåœº"],subwayStations:["æ–°è¡—å£","å¤«å­åº™","é¼“æ¥¼","ç„æ­¦é—¨","ä¸­åé—¨"],businessAreas:["æ–°è¡—å£","å¤«å­åº™","æ¹–å—è·¯","æ±Ÿå®ä¸‡è¾¾","ä»™æ—"]},"æ­¦æ±‰":{attractions:["é»„é¹¤æ¥¼","ä¸œæ¹–","æ­¦æ±‰å¤§å­¦","æˆ·éƒ¨å··","é•¿æ±Ÿå¤§æ¡¥","å½’å…ƒå¯º"],stations:["æ­¦æ±‰ç«™","æ±‰å£ç«™","æ­¦æ˜Œç«™","å¤©æ²³å›½é™…æœºåœº"],subwayStations:["æ±Ÿæ±‰è·¯","ä¸­å—è·¯","å…‰è°·å¹¿åœº","è¡—é“å£","æ­¦æ˜Œç«è½¦ç«™"],businessAreas:["æ±Ÿæ±‰è·¯","ä¸­å—è·¯","å…‰è°·","æ±‰æ­£è¡—","æ¥šæ²³æ±‰è¡—"]},"æˆéƒ½":{attractions:["å®½çª„å··å­","é”¦é‡Œ","æ­¦ä¾¯ç¥ ","æœç”«è‰å ‚","é’åŸå±±","éƒ½æ±Ÿå °"],stations:["æˆéƒ½ç«™","æˆéƒ½ä¸œç«™","åŒæµå›½é™…æœºåœº","å¤©åºœå›½é™…æœºåœº"],subwayStations:["æ˜¥ç†™è·¯","å¤©åºœå¹¿åœº","éª¡é©¬å¸‚","å¤ªå¤é‡Œ","é‡‘æ²™é—å€"],businessAreas:["æ˜¥ç†™è·¯","å¤ªå¤é‡Œ","å¤©åºœå¹¿åœº","å»ºè®¾è·¯","é‡‘æ²™"]},"è¥¿å®‰":{attractions:["å…µé©¬ä¿‘","å¤§é›å¡”","é’Ÿæ¥¼","å¤åŸå¢™","åæ¸…æ± ","æ³•é—¨å¯º"],stations:["è¥¿å®‰ç«™","è¥¿å®‰åŒ—ç«™","å’¸é˜³å›½é™…æœºåœº"],subwayStations:["é’Ÿæ¥¼","å°å¯¨","å¤§é›å¡”","åŒ—å¤§è¡—","çººç»‡åŸ"],businessAreas:["é’Ÿæ¥¼","å°å¯¨","å¤§é›å¡”","é«˜æ–°åŒº","æ›²æ±Ÿ"]},"é”¦å·":{attractions:["é”¦å·å¤åŸ","ç¬”æ¶å±±","åŒ»å·«é—¾å±±","é”¦å·ä¸–åšå›­","è¾½æ²ˆæˆ˜å½¹çºªå¿µé¦†","åŒ—æ™®é™€å±±"],stations:["é”¦å·ç«™","é”¦å·å—ç«™","é”¦å·æœºåœº"],subwayStations:["é”¦å·ç«è½¦ç«™","å¸‚æ”¿åºœ","é”¦å·åŒ»ç§‘å¤§å­¦","æ¸¤æµ·å¤§å­¦","é”¦å·æ¸¯"],businessAreas:["ä¸‡è¾¾å¹¿åœº","é”¦å·å•†ä¸šåŸ","å‡Œæ²³å¤œå¸‚","é”¦å·æ­¥è¡Œè¡—"]},"é”¦å·å¸‚":{attractions:["é”¦å·å¤åŸ","ç¬”æ¶å±±","åŒ»å·«é—¾å±±","é”¦å·ä¸–åšå›­","è¾½æ²ˆæˆ˜å½¹çºªå¿µé¦†","åŒ—æ™®é™€å±±"],stations:["é”¦å·ç«™","é”¦å·å—ç«™","é”¦å·æœºåœº"],subwayStations:["é”¦å·ç«è½¦ç«™","å¸‚æ”¿åºœ","é”¦å·åŒ»ç§‘å¤§å­¦","æ¸¤æµ·å¤§å­¦","é”¦å·æ¸¯"],businessAreas:["ä¸‡è¾¾å¹¿åœº","é”¦å·å•†ä¸šåŸ","å‡Œæ²³å¤œå¸‚","é”¦å·æ­¥è¡Œè¡—"]}}}),computed:{filteredCities(){if(!this.searchKeyword)return this.cities;const t=this.searchKeyword.toLowerCase();return this.cities.filter((e=>{var i,s;return e.name.toLowerCase().includes(t)||(null==(i=e.pinyin)?void 0:i.toLowerCase().includes(t))||(null==(s=e.code)?void 0:s.toLowerCase().includes(t))}))},groupedCities(){const t={};return this.cities.forEach((e=>{const i=e.firstLetter||e.name.charAt(0).toUpperCase();t[i]||(t[i]=[]),t[i].push(e)})),Object.keys(t).sort().map((e=>({letter:e,cities:t[e].sort(((t,e)=>t.name.localeCompare(e.name)))})))},alphabetList(){return this.groupedCities.map((t=>t.letter))}},onLoad(t){console.log("åŸå¸‚é€‰æ‹©é¡µé¢åŠ è½½",t),this.fromPage=t.from||"",this.loadCurrentCity(),this.loadCities(),this.getCurrentLocation(),setTimeout((()=>{this.updateCityCategories()}),100)},onShow(){this.loadCurrentCity(),setTimeout((()=>{this.updateCityCategories()}),100)},methods:{goBack(){t()},onSearchInput(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{console.log("æœç´¢å…³é”®è¯:",this.searchKeyword)}),300)},onSearchFocus(){console.log("æœç´¢æ¡†è·å¾—ç„¦ç‚¹")},onSearchBlur(){console.log("æœç´¢æ¡†å¤±å»ç„¦ç‚¹")},clearSearch(){this.searchKeyword=""},highlightSearchKeyword(t){if(!this.searchKeyword)return t;const e=this.searchKeyword,i=new RegExp(`(${e})`,"gi");return t.replace(i,'<span style="color: #007AFF; background: #E3F2FD;">$1</span>')},getCurrentLocation(){console.log("ğŸŒ è·å–å½“å‰ä½ç½®"),this.loadingText="æ­£åœ¨è·å–ä½ç½®ä¿¡æ¯...",setTimeout((()=>{this.locationCity={id:"location_001",name:"éƒ‘å·",code:"zhengzhou",description:"æ ¹æ®æ‚¨çš„ä½ç½®è‡ªåŠ¨è¯†åˆ«",coordinates:{longitude:113.625368,latitude:34.746611},lockerCount:156},console.log("âœ… å®šä½æˆåŠŸ:",this.locationCity)}),1e3)},loadCurrentCity(){try{const t=e("selectedCity");t&&(this.currentSelectedCity=t,console.log("å½“å‰é€‰æ‹©çš„åŸå¸‚:",t),setTimeout((()=>{this.updateCityCategories()}),50))}catch(t){console.error("è·å–å½“å‰åŸå¸‚å¤±è´¥:",t)}},async loadCities(){this.isLoading=!0,this.loadingText="æ­£åœ¨ä»æ•°æ®åº“åŠ è½½åŸå¸‚åˆ—è¡¨...";try{const t=await this.getCitiesFromAPI();this.cities=t,this.hotCities=this.getHotCities(t),console.log("âœ… ä»æ•°æ®åº“åŠ è½½åŸå¸‚åˆ—è¡¨æˆåŠŸ:",t.length,"ä¸ªåŸå¸‚"),t.length>0&&i({title:`å·²åŠ è½½${t.length}ä¸ªåŸå¸‚`,icon:"success",duration:1500})}catch(t){console.error("ä»æ•°æ®åº“è·å–åŸå¸‚åˆ—è¡¨å¤±è´¥:",t),t.message.includes("è®¤è¯")?(console.log("ğŸ”„ APIéœ€è¦è®¤è¯ï¼Œè¯·ç¡®ä¿åç«¯æœåŠ¡å·²é‡å¯"),i({title:"è¿æ¥æœåŠ¡å™¨ä¸­...",icon:"loading",duration:2e3})):i({title:"ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œä½¿ç”¨ç¦»çº¿æ•°æ®",icon:"none",duration:2e3});const e=this.getDefaultCities();this.cities=e,this.hotCities=this.getHotCities(e),console.log("âš ï¸ ä½¿ç”¨åå¤‡åŸå¸‚åˆ—è¡¨:",e.length,"ä¸ªåŸå¸‚")}finally{this.isLoading=!1}},getCitiesFromAPI(){return new Promise(((t,e)=>{const i="http://localhost:8000/api/cities?page=1&page_size=50";console.log("ğŸ“¡ è°ƒç”¨åç«¯åŸå¸‚åˆ—è¡¨æ¥å£:",i),s({url:i,method:"GET",header:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4,success:i=>{if(console.log("=== åç«¯åŸå¸‚åˆ—è¡¨æ¥å£å“åº” ==="),console.log("HTTPçŠ¶æ€ç :",i.statusCode),console.log("å“åº”æ•°æ®:",i.data),200===i.statusCode&&i.data){const e=this.processBackendCities(i.data);console.log("âœ… å¤„ç†åçš„åŸå¸‚æ•°æ®:",e.length,"ä¸ªåŸå¸‚"),t(e)}else 401===i.statusCode?(console.log("âš ï¸ APIéœ€è¦è®¤è¯ï¼Œåç«¯æœåŠ¡å¯èƒ½éœ€è¦é‡å¯ä»¥åº”ç”¨ç™½åå•æ›´æ”¹"),e(new Error("APIéœ€è¦è®¤è¯ï¼Œè¯·é‡å¯åç«¯æœåŠ¡"))):(console.log("âš ï¸ APIè¿”å›é200çŠ¶æ€ç ï¼Œä½¿ç”¨é»˜è®¤æ•°æ®"),e(new Error(`APIè¯·æ±‚å¤±è´¥: ${i.statusCode}`)))},fail:t=>{console.log("âš ï¸ åç«¯åŸå¸‚åˆ—è¡¨APIè°ƒç”¨å¤±è´¥:",t),console.log("é”™è¯¯è¯¦æƒ…:",{errMsg:t.errMsg,statusCode:t.statusCode,data:t.data}),e(t)}})}))},processBackendCities(t){console.log("ğŸ”„ å¤„ç†åç«¯åŸå¸‚æ•°æ®"),console.log("åŸå§‹åç«¯æ•°æ®:",t);let e=[];return t.data&&Array.isArray(t.data)?e=t.data:t.cities&&Array.isArray(t.cities)?e=t.cities:t.list&&Array.isArray(t.list)?e=t.list:Array.isArray(t)?e=t:(console.log("âš ï¸ æœªè¯†åˆ«çš„å“åº”æ•°æ®æ ¼å¼ï¼Œå°è¯•æå–æ‰€æœ‰å¯èƒ½çš„æ•°ç»„å­—æ®µ"),Object.keys(t).forEach((i=>{Array.isArray(t[i])&&t[i].length>0&&(console.log(`å‘ç°æ•°ç»„å­—æ®µ: ${i}`,t[i]),0===e.length&&(e=t[i]))}))),Array.isArray(e)&&0!==e.length?e.map(((t,e)=>{console.log(`å¤„ç†ç¬¬${e+1}ä¸ªåŸå¸‚:`,t);const i={id:t.id||t.city_id||t.cityId||`city_${e+1}`,name:t.name||t.city_name||t.cityName||`åŸå¸‚${e+1}`,code:t.code||t.city_code||t.cityCode||this.generateCityCode(t.name||`city${e+1}`),pinyin:t.pinyin||t.py||this.generatePinyin(t.name||""),firstLetter:t.first_letter||t.firstLetter||this.getFirstLetter(t.name||""),lockerCount:parseInt(t.locker_count||t.lockerCount||t.point_count||t.pointCount||0),level:parseInt(t.level||t.city_level||t.cityLevel||4),description:t.description||t.desc||t.remark||this.generateCityDescription(t.name||""),coordinates:{longitude:parseFloat(t.longitude||t.lng||t.lon||116.4074),latitude:parseFloat(t.latitude||t.lat||39.9042)},status:t.status||t.state||"active",createdAt:t.created_at||t.createdAt||(new Date).toISOString(),rawData:t};return console.log(`å¤„ç†åçš„ç¬¬${e+1}ä¸ªåŸå¸‚:`,i),i})).filter((t=>"active"===t.status)):(console.log("âš ï¸ æ— æœ‰æ•ˆåŸå¸‚æ•°æ®ï¼Œè¿”å›ç©ºæ•°ç»„"),[])},generateCityCode:t=>({"åŒ—äº¬":"beijing","ä¸Šæµ·":"shanghai","å¹¿å·":"guangzhou","æ·±åœ³":"shenzhen","æ­å·":"hangzhou","å—äº¬":"nanjing","æˆéƒ½":"chengdu","æ­¦æ±‰":"wuhan","è¥¿å®‰":"xian","é‡åº†":"chongqing","å¤©æ´¥":"tianjin","è‹å·":"suzhou","éƒ‘å·":"zhengzhou","é•¿æ²™":"changsha","é’å²›":"qingdao","å¤§è¿":"dalian"}[t]||t.toLowerCase().replace(/\s+/g,"")),generatePinyin(t){return this.generateCityCode(t)},getFirstLetter(t){if(!t)return"A";const e=t.charAt(0);return{"åŒ—":"B","ä¸Š":"S","å¹¿":"G","æ·±":"S","æ­":"H","å—":"N","æˆ":"C","æ­¦":"W","è¥¿":"X","é‡":"C","å¤©":"T","è‹":"S","éƒ‘":"Z","é•¿":"C","é’":"Q","å¤§":"D","å®":"N","å¦":"X","æµ":"J","å“ˆ":"H","æ˜†":"K","ç¦":"F","çŸ³":"S","å¤ª":"T"}[e]||e.toUpperCase()},generateCityDescription:t=>({"åŒ—äº¬":"é¦–éƒ½ï¼Œæ”¿æ²»æ–‡åŒ–ä¸­å¿ƒ","ä¸Šæµ·":"ç»æµé‡‘èä¸­å¿ƒ","å¹¿å·":"åå—åœ°åŒºä¸­å¿ƒåŸå¸‚","æ·±åœ³":"ç§‘æŠ€åˆ›æ–°ä¹‹åŸ","æ­å·":"ç”µå•†ä¹‹éƒ½ï¼Œè¥¿æ¹–ç¾æ™¯","å—äº¬":"å…­æœå¤éƒ½ï¼Œæ•™è‚²ååŸ","æˆéƒ½":"å¤©åºœä¹‹å›½ï¼Œç¾é£Ÿä¹‹éƒ½","æ­¦æ±‰":"ä¹çœé€šè¡¢ï¼Œæ•™è‚²é‡é•‡","è¥¿å®‰":"åƒå¹´å¤éƒ½ï¼Œä¸è·¯èµ·ç‚¹","é‡åº†":"å±±åŸç«é”…ï¼Œç½‘çº¢ä¹‹éƒ½","å¤©æ´¥":"æµ·æ²³ä¹‹æ»¨ï¼Œè¿‘ä»£ååŸ","è‹å·":"å›­æ—ä¹‹åŸï¼Œä¸ç»¸ä¹‹åºœ","éƒ‘å·":"ä¸­åŸè…¹åœ°ï¼Œäº¤é€šæ¢çº½"}[t]||"ç¾ä¸½çš„åŸå¸‚"),getHotCities(t){const e=["åŒ—äº¬","ä¸Šæµ·","å¹¿å·","æ·±åœ³","æ­å·","å—äº¬","æˆéƒ½","æ­¦æ±‰","è¥¿å®‰","éƒ‘å·","é‡åº†","å¤©æ´¥","è‹å·","é•¿æ²™","é’å²›","å¤§è¿","å®æ³¢","å¦é—¨"];return t.filter((t=>e.includes(t.name))).sort(((t,e)=>(e.lockerCount||0)-(t.lockerCount||0))).slice(0,18)},getDefaultCities(){return[{id:1,name:"åŒ—äº¬",code:"beijing",pinyin:"beijing",firstLetter:"B",lockerCount:0,level:1,description:"é¦–éƒ½ï¼Œæ”¿æ²»æ–‡åŒ–ä¸­å¿ƒ"},{id:2,name:"ä¸Šæµ·",code:"shanghai",pinyin:"shanghai",firstLetter:"S",lockerCount:0,level:1,description:"ç»æµé‡‘èä¸­å¿ƒ"},{id:3,name:"å¹¿å·",code:"guangzhou",pinyin:"guangzhou",firstLetter:"G",lockerCount:0,level:1,description:"åå—åœ°åŒºä¸­å¿ƒåŸå¸‚"},{id:4,name:"æ·±åœ³",code:"shenzhen",pinyin:"shenzhen",firstLetter:"S",lockerCount:0,level:1,description:"ç§‘æŠ€åˆ›æ–°ä¹‹åŸ"},{id:5,name:"æ­å·",code:"hangzhou",pinyin:"hangzhou",firstLetter:"H",lockerCount:0,level:2,description:"ç”µå•†ä¹‹éƒ½ï¼Œè¥¿æ¹–ç¾æ™¯"},{id:6,name:"å—äº¬",code:"nanjing",pinyin:"nanjing",firstLetter:"N",lockerCount:0,level:2,description:"å…­æœå¤éƒ½ï¼Œæ•™è‚²ååŸ"},{id:7,name:"æˆéƒ½",code:"chengdu",pinyin:"chengdu",firstLetter:"C",lockerCount:0,level:2,description:"å¤©åºœä¹‹å›½ï¼Œç¾é£Ÿä¹‹éƒ½"},{id:8,name:"æ­¦æ±‰",code:"wuhan",pinyin:"wuhan",firstLetter:"W",lockerCount:0,level:2,description:"ä¹çœé€šè¡¢ï¼Œæ•™è‚²é‡é•‡"},{id:9,name:"è¥¿å®‰",code:"xian",pinyin:"xian",firstLetter:"X",lockerCount:0,level:2,description:"åƒå¹´å¤éƒ½ï¼Œä¸è·¯èµ·ç‚¹"},{id:10,name:"éƒ‘å·",code:"zhengzhou",pinyin:"zhengzhou",firstLetter:"Z",lockerCount:0,level:3,description:"ä¸­åŸè…¹åœ°ï¼Œäº¤é€šæ¢çº½"}].map((t=>({...t,coordinates:this.getCityCoordinates(t.code),status:"active"})))},getCityCoordinates:t=>({beijing:{longitude:116.4074,latitude:39.9042},shanghai:{longitude:121.4737,latitude:31.2304},guangzhou:{longitude:113.2644,latitude:23.1291},shenzhen:{longitude:114.0579,latitude:22.5431},hangzhou:{longitude:120.1551,latitude:30.2741},nanjing:{longitude:118.7969,latitude:32.0603},chengdu:{longitude:104.0668,latitude:30.5728},wuhan:{longitude:114.3054,latitude:30.5931},xian:{longitude:108.9402,latitude:34.3416},chongqing:{longitude:106.5516,latitude:29.563},tianjin:{longitude:117.1901,latitude:39.1235},suzhou:{longitude:120.6197,latitude:31.3117},zhengzhou:{longitude:113.6253,latitude:34.7466},changsha:{longitude:112.9388,latitude:28.2282},qingdao:{longitude:120.3826,latitude:36.0671},dalian:{longitude:121.6147,latitude:38.914},ningbo:{longitude:121.544,latitude:29.8683},xiamen:{longitude:118.1689,latitude:24.4797},jinan:{longitude:117.0009,latitude:36.6758},haerbin:{longitude:126.6424,latitude:45.756},kunming:{longitude:102.8329,latitude:24.8801},fuzhou:{longitude:119.3063,latitude:26.0745},shijiazhuang:{longitude:114.5149,latitude:38.0428},taiyuan:{longitude:112.5489,latitude:37.8706},changchun:{longitude:125.3245,latitude:43.8171},shenyang:{longitude:123.4315,latitude:41.8057},wuxi:{longitude:120.3019,latitude:31.5747},wenzhou:{longitude:120.6994,latitude:27.9944},hefei:{longitude:117.2272,latitude:31.8206},nanchang:{longitude:115.8921,latitude:28.6765},guiyang:{longitude:106.7135,latitude:26.5783},nanning:{longitude:108.3669,latitude:22.817},haikou:{longitude:110.3312,latitude:20.0311},lanzhou:{longitude:103.8236,latitude:36.0581},yinchuan:{longitude:106.2309,latitude:38.4872},xining:{longitude:101.7782,latitude:36.6171},wulumuqi:{longitude:87.6177,latitude:43.7928},lasa:{longitude:91.1322,latitude:29.6544},huhehaote:{longitude:111.7519,latitude:40.8427},zhuhai:{longitude:113.5767,latitude:22.2707},shantou:{longitude:116.7081,latitude:23.3839},foshan:{longitude:113.122,latitude:23.0291},dongguan:{longitude:113.7518,latitude:23.0489},zhongshan:{longitude:113.3823,latitude:22.5211},huizhou:{longitude:114.4152,latitude:23.1115},jiangmen:{longitude:113.0946,latitude:22.5901},zhanjiang:{longitude:110.3594,latitude:21.2707},maoming:{longitude:110.9255,latitude:21.6687},zhaoqing:{longitude:112.4444,latitude:23.0786},qingyuan:{longitude:113.051,latitude:23.7016}}[t]||{longitude:116.4074,latitude:39.9042}),getCityDescription:t=>t.description?t.description:t.lockerCount?`${t.lockerCount}ä¸ªå¯„å­˜ç‚¹`:"æš‚æ— å¯„å­˜ç‚¹ä¿¡æ¯",scrollToLetter(t){this.currentLetter=t,console.log("æ»šåŠ¨åˆ°å­—æ¯:",t)},onScroll(t){console.log("æ»šåŠ¨äº‹ä»¶:",t)},updateCityCategories(){let t="éƒ‘å·";try{const i=e("selectedCity");i&&i.name?(t=i.name,this.currentSelectedCity=i):this.currentSelectedCity&&this.currentSelectedCity.name&&(t=this.currentSelectedCity.name)}catch(s){console.error("è·å–å½“å‰åŸå¸‚å¤±è´¥:",s)}console.log("ğŸ”„ æ›´æ–°åŸå¸‚åˆ†ç±»æ•°æ®ï¼Œå½“å‰åŸå¸‚:",t);const i=this.cityCategories[t];i?(this.currentCityCategories={attractions:[...i.attractions],stations:[...i.stations],subwayStations:[...i.subwayStations],businessAreas:[...i.businessAreas]},console.log("âœ… åŸå¸‚åˆ†ç±»æ•°æ®å·²æ›´æ–°:",{city:t,attractions:this.currentCityCategories.attractions.length,stations:this.currentCityCategories.stations.length,subwayStations:this.currentCityCategories.subwayStations.length,businessAreas:this.currentCityCategories.businessAreas.length})):(console.log("âš ï¸ æœªæ‰¾åˆ°åŸå¸‚åˆ†ç±»æ•°æ®é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆ"),this.currentCityCategories=this.generateCityCategories(t),console.log("âœ… è‡ªåŠ¨ç”ŸæˆåŸå¸‚åˆ†ç±»æ•°æ®:",this.currentCityCategories))},generateCityCategories(t){console.log("ğŸ¯ ä¸ºåŸå¸‚è‡ªåŠ¨ç”Ÿæˆåˆ†ç±»æ•°æ®:",t);const e=t.replace(/[å¸‚çœåŒºå¿]/g,""),i={attractions:[`${e}å…¬å›­`,`${e}å¹¿åœº`,`${e}åšç‰©é¦†`,`${e}å¤åŸ`,`${e}é£æ™¯åŒº`,`${e}æ–‡åŒ–ä¸­å¿ƒ`],stations:[`${e}ç«™`,`${e}ä¸œç«™`,`${e}æœºåœº`],subwayStations:[`${e}ä¸­å¿ƒç«™`,`${e}å¹¿åœºç«™`,`${e}ç«è½¦ç«™`,`${e}æ±½è½¦ç«™`,`${e}ä½“è‚²é¦†ç«™`],businessAreas:[`${e}ä¸‡è¾¾`,`${e}è´­ç‰©ä¸­å¿ƒ`,`${e}å•†ä¸šè¡—`,`${e}æ­¥è¡Œè¡—`]};return this.cityCategories[t]=i,i},searchInCurrentCity(t){console.log("åœ¨å½“å‰åŸå¸‚æœç´¢:",t);try{if(!this.currentSelectedCity)return void i({title:"è¯·å…ˆé€‰æ‹©åŸå¸‚",icon:"none"});a({url:`/pages/search/search?keyword=${encodeURIComponent(t)}`})}catch(e){console.error("æœç´¢æ—¶å‘ç”Ÿé”™è¯¯:",e),i({title:"æœç´¢å¤±è´¥",icon:"none"})}},selectCity(e){console.log("é€‰æ‹©åŸå¸‚:",e);try{const s={...e,selectedAt:(new Date).toISOString()};n("selectedCity",s),this.currentSelectedCity=s,this.updateCityCategories(),i({title:`å·²é€‰æ‹©${e.name}`,icon:"success",duration:1500}),setTimeout((()=>{t()}),1500)}catch(s){console.error("é€‰æ‹©åŸå¸‚æ—¶å‘ç”Ÿé”™è¯¯:",s),i({title:"é€‰æ‹©åŸå¸‚å¤±è´¥",icon:"none"})}}}},[["render",function(t,e,i,s,a,n){const b=p,w=c,S=_,A=m;return r(),o(w,{class:"page"},{default:l((()=>[u(w,{class:"header"},{default:l((()=>[u(w,{class:"header-content"},{default:l((()=>[u(w,{class:"back-btn",onClick:n.goBack},{default:l((()=>[u(b,{class:"back-icon"},{default:l((()=>[d("â†")])),_:1})])),_:1},8,["onClick"]),u(b,{class:"header-title"},{default:l((()=>[d("é€‰æ‹©åŸå¸‚")])),_:1}),u(w,{class:"location-btn",onClick:n.getCurrentLocation},{default:l((()=>[u(b,{class:"location-icon"},{default:l((()=>[d("ğŸ“")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),u(w,{class:"search-section"},{default:l((()=>[u(w,{class:"search-container"},{default:l((()=>[u(w,{class:"search-box"},{default:l((()=>[u(b,{class:"search-icon"},{default:l((()=>[d("ğŸ”")])),_:1}),u(S,{class:"search-input",placeholder:"æœç´¢åŸå¸‚åç§°æˆ–æ‹¼éŸ³",modelValue:a.searchKeyword,"onUpdate:modelValue":e[0]||(e[0]=t=>a.searchKeyword=t),onInput:n.onSearchInput,onFocus:n.onSearchFocus,onBlur:n.onSearchBlur},null,8,["modelValue","onInput","onFocus","onBlur"]),a.searchKeyword?(r(),o(w,{key:0,class:"clear-btn",onClick:n.clearSearch},{default:l((()=>[u(b,{class:"clear-icon"},{default:l((()=>[d("âœ•")])),_:1})])),_:1},8,["onClick"])):g("",!0)])),_:1})])),_:1})])),_:1}),a.locationCity&&!a.searchKeyword?(r(),o(w,{key:0,class:"location-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("ğŸ“ å½“å‰å®šä½")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("åŸºäºæ‚¨çš„ä½ç½®æ¨è")])),_:1})])),_:1}),u(w,{class:"location-city-item",onClick:e[1]||(e[1]=t=>n.selectCity(a.locationCity))},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(a.locationCity.name),1)])),_:1}),u(b,{class:"city-desc"},{default:l((()=>[d(h(a.locationCity.description||"å½“å‰å®šä½åŸå¸‚"),1)])),_:1})])),_:1}),u(w,{class:"city-action"},{default:l((()=>[u(b,{class:"action-text"},{default:l((()=>[d("é€‰æ‹©")])),_:1}),u(b,{class:"action-icon"},{default:l((()=>[d("â†’")])),_:1})])),_:1})])),_:1})])),_:1})):g("",!0),a.currentSelectedCity&&!a.searchKeyword?(r(),o(w,{key:1,class:"current-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("âœ“ å½“å‰é€‰æ‹©")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("æ‚¨æ­£åœ¨ä½¿ç”¨çš„åŸå¸‚")])),_:1})])),_:1}),u(w,{class:"current-city-item",onClick:e[2]||(e[2]=t=>n.selectCity(a.currentSelectedCity))},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(a.currentSelectedCity.name),1)])),_:1}),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(a.currentSelectedCity)),1)])),_:1})])),_:1}),u(w,{class:"city-status"},{default:l((()=>[u(b,{class:"status-text"},{default:l((()=>[d("å·²é€‰æ‹©")])),_:1}),u(b,{class:"status-icon"},{default:l((()=>[d("âœ“")])),_:1})])),_:1})])),_:1})])),_:1})):g("",!0),a.searchKeyword?g("",!0):(r(),o(w,{key:2,class:"hot-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("ğŸ”¥ çƒ­é—¨åŸå¸‚")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d(h(a.hotCities.length)+"ä¸ªçƒ­é—¨åŸå¸‚",1)])),_:1})])),_:1}),u(w,{class:"hot-cities-grid"},{default:l((()=>[(r(!0),y(f,null,C(a.hotCities,(t=>{var e;return r(),o(w,{class:k(["hot-city-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code),"has-lockers":t.lockerCount>0}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(t.name),1)])),_:2},1024),t.lockerCount?(r(),o(b,{key:0,class:"city-count"},{default:l((()=>[d(h(t.lockerCount)+"ä¸ªå¯„å­˜ç‚¹",1)])),_:2},1024)):g("",!0)])),_:2},1032,["onClick","class"])})),128))])),_:1})])),_:1})),g("",!0),a.searchKeyword?(r(),o(w,{key:4,class:"search-results"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("ğŸ” æœç´¢ç»“æœ")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("æ‰¾åˆ°"+h(n.filteredCities.length)+"ä¸ªåŸå¸‚",1)])),_:1})])),_:1}),n.filteredCities.length>0?(r(),o(w,{key:0,class:"search-list"},{default:l((()=>[(r(!0),y(f,null,C(n.filteredCities,(t=>{var e;return r(),o(w,{class:k(["search-result-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code)}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name",innerHTML:n.highlightSearchKeyword(t.name)},null,8,["innerHTML"]),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(t)),1)])),_:2},1024)])),_:2},1024),u(w,{class:"city-meta"},{default:l((()=>[t.lockerCount?(r(),o(b,{key:0,class:"locker-count"},{default:l((()=>[d(h(t.lockerCount)+"ä¸ªå¯„å­˜ç‚¹",1)])),_:2},1024)):g("",!0),u(b,{class:"select-icon"},{default:l((()=>[d("â†’")])),_:1})])),_:2},1024)])),_:2},1032,["onClick","class"])})),128))])),_:1})):(r(),o(w,{key:1,class:"empty-result"},{default:l((()=>[u(b,{class:"empty-icon"},{default:l((()=>[d("ğŸ”")])),_:1}),u(b,{class:"empty-text"},{default:l((()=>[d('æœªæ‰¾åˆ°"'+h(a.searchKeyword)+'"ç›¸å…³çš„åŸå¸‚',1)])),_:1}),u(b,{class:"empty-hint"},{default:l((()=>[d("è¯•è¯•æœç´¢å…¶ä»–åŸå¸‚åç§°æˆ–æ‹¼éŸ³")])),_:1})])),_:1}))])),_:1})):g("",!0),a.searchKeyword?g("",!0):(r(),o(w,{key:5,class:"all-cities-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("ğŸ™ï¸ å…¨éƒ¨åŸå¸‚")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("æŒ‰å­—æ¯æ’åº")])),_:1})])),_:1}),u(w,{class:"alphabet-index"},{default:l((()=>[(r(!0),y(f,null,C(n.alphabetList,(t=>(r(),o(w,{class:k(["alphabet-item",{active:a.currentLetter===t}]),key:t,onClick:e=>n.scrollToLetter(t)},{default:l((()=>[u(b,{class:"alphabet-text"},{default:l((()=>[d(h(t),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1}),u(A,{class:"cities-scroll","scroll-y":"true",onScroll:n.onScroll},{default:l((()=>[(r(!0),y(f,null,C(n.groupedCities,(t=>(r(),o(w,{class:"letter-group",key:t.letter,id:"letter-"+t.letter},{default:l((()=>[u(w,{class:"letter-header"},{default:l((()=>[u(b,{class:"letter-title"},{default:l((()=>[d(h(t.letter),1)])),_:2},1024)])),_:2},1024),u(w,{class:"cities-list"},{default:l((()=>[(r(!0),y(f,null,C(t.cities,(t=>{var e;return r(),o(w,{class:k(["city-list-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code)}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(t.name),1)])),_:2},1024),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(t)),1)])),_:2},1024)])),_:2},1024),u(w,{class:"city-meta"},{default:l((()=>[t.lockerCount?(r(),o(b,{key:0,class:"locker-count"},{default:l((()=>[d(h(t.lockerCount)+"ä¸ªå¯„å­˜ç‚¹",1)])),_:2},1024)):g("",!0),u(b,{class:"select-icon"},{default:l((()=>[d("â†’")])),_:1})])),_:2},1024)])),_:2},1032,["onClick","class"])})),128))])),_:2},1024)])),_:2},1032,["id"])))),128))])),_:1},8,["onScroll"])])),_:1})),a.isLoading?(r(),o(w,{key:6,class:"loading-overlay"},{default:l((()=>[u(w,{class:"loading-content"},{default:l((()=>[u(w,{class:"loading-spinner"}),u(b,{class:"loading-text"},{default:l((()=>[d(h(a.loadingText),1)])),_:1})])),_:1})])),_:1})):g("",!0)])),_:1})}],["__scopeId","data-v-9c6f39bc"]]);export{w as default};
