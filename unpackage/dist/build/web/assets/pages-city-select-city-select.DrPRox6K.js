import{p as t,g as e,a as i,r as s,v as a,c as n,e as o,w as l,i as c,o as r,f as u,j as d,x as g,t as h,C as y,D as C,F as f,k as p,I as _,S as m,n as k}from"./index-BgeTyoVd.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=b({data:()=>({searchKeyword:"",currentSelectedCity:null,locationCity:null,cities:[],hotCities:[],isLoading:!1,loadingText:"正在加载城市列表...",currentLetter:"A",searchTimer:null,fromPage:"",currentCityCategories:{attractions:[],stations:[],subwayStations:[],businessAreas:[]},cityCategories:{"郑州":{attractions:["美景天城","大卫城","国贸360","万特","少林寺","银基动物王国"],stations:["郑州站","郑州东站","新郑国际机场"],subwayStations:["二七广场","陇海路地铁站","航海广场站","紫荆山站","人民路站"],businessAreas:["熙地港购物中心","二七广场","正弘城","万达广场","国贸360"]},"北京":{attractions:["天安门","故宫","颐和园","天坛","长城","鸟巢"],stations:["北京站","北京西站","北京南站","首都国际机场","大兴国际机场"],subwayStations:["天安门东","王府井","西单","国贸","三里屯"],businessAreas:["王府井","西单","国贸","三里屯","中关村"]},"上海":{attractions:["外滩","东方明珠","豫园","城隍庙","朱家角","迪士尼"],stations:["上海站","上海虹桥站","上海南站","浦东国际机场","虹桥机场"],subwayStations:["人民广场","南京路","陆家嘴","徐家汇","静安寺"],businessAreas:["南京路","淮海路","陆家嘴","徐家汇","静安寺"]},"广州":{attractions:["广州塔","陈家祠","沙面","白云山","长隆","珠江夜游"],stations:["广州站","广州南站","广州东站","白云国际机场"],subwayStations:["体育西路","珠江新城","北京路","上下九","天河城"],businessAreas:["天河城","北京路","上下九","珠江新城","万菱汇"]},"深圳":{attractions:["世界之窗","欢乐谷","大梅沙","莲花山","华侨城","东部华侨城"],stations:["深圳站","深圳北站","深圳东站","宝安国际机场"],subwayStations:["罗湖","国贸","华强北","车公庙","世界之窗"],businessAreas:["华强北","东门","海岸城","万象城","益田假日广场"]},"杭州":{attractions:["西湖","灵隐寺","雷峰塔","千岛湖","西溪湿地","宋城"],stations:["杭州站","杭州东站","杭州南站","萧山国际机场"],subwayStations:["西湖文化广场","武林广场","钱江新城","滨江","城站"],businessAreas:["武林广场","湖滨","钱江新城","西溪","滨江"]},"南京":{attractions:["中山陵","夫子庙","玄武湖","总统府","明孝陵","秦淮河"],stations:["南京站","南京南站","禄口国际机场"],subwayStations:["新街口","夫子庙","鼓楼","玄武门","中华门"],businessAreas:["新街口","夫子庙","湖南路","江宁万达","仙林"]},"武汉":{attractions:["黄鹤楼","东湖","武汉大学","户部巷","长江大桥","归元寺"],stations:["武汉站","汉口站","武昌站","天河国际机场"],subwayStations:["江汉路","中南路","光谷广场","街道口","武昌火车站"],businessAreas:["江汉路","中南路","光谷","汉正街","楚河汉街"]},"成都":{attractions:["宽窄巷子","锦里","武侯祠","杜甫草堂","青城山","都江堰"],stations:["成都站","成都东站","双流国际机场","天府国际机场"],subwayStations:["春熙路","天府广场","骡马市","太古里","金沙遗址"],businessAreas:["春熙路","太古里","天府广场","建设路","金沙"]},"西安":{attractions:["兵马俑","大雁塔","钟楼","古城墙","华清池","法门寺"],stations:["西安站","西安北站","咸阳国际机场"],subwayStations:["钟楼","小寨","大雁塔","北大街","纺织城"],businessAreas:["钟楼","小寨","大雁塔","高新区","曲江"]},"锦州":{attractions:["锦州古城","笔架山","医巫闾山","锦州世博园","辽沈战役纪念馆","北普陀山"],stations:["锦州站","锦州南站","锦州机场"],subwayStations:["锦州火车站","市政府","锦州医科大学","渤海大学","锦州港"],businessAreas:["万达广场","锦州商业城","凌河夜市","锦州步行街"]},"锦州市":{attractions:["锦州古城","笔架山","医巫闾山","锦州世博园","辽沈战役纪念馆","北普陀山"],stations:["锦州站","锦州南站","锦州机场"],subwayStations:["锦州火车站","市政府","锦州医科大学","渤海大学","锦州港"],businessAreas:["万达广场","锦州商业城","凌河夜市","锦州步行街"]}}}),computed:{filteredCities(){if(!this.searchKeyword)return this.cities;const t=this.searchKeyword.toLowerCase();return this.cities.filter((e=>{var i,s;return e.name.toLowerCase().includes(t)||(null==(i=e.pinyin)?void 0:i.toLowerCase().includes(t))||(null==(s=e.code)?void 0:s.toLowerCase().includes(t))}))},groupedCities(){const t={};return this.cities.forEach((e=>{const i=e.firstLetter||e.name.charAt(0).toUpperCase();t[i]||(t[i]=[]),t[i].push(e)})),Object.keys(t).sort().map((e=>({letter:e,cities:t[e].sort(((t,e)=>t.name.localeCompare(e.name)))})))},alphabetList(){return this.groupedCities.map((t=>t.letter))}},onLoad(t){console.log("城市选择页面加载",t),this.fromPage=t.from||"",this.loadCurrentCity(),this.loadCities(),this.getCurrentLocation(),setTimeout((()=>{this.updateCityCategories()}),100)},onShow(){this.loadCurrentCity(),setTimeout((()=>{this.updateCityCategories()}),100)},methods:{goBack(){t()},onSearchInput(){clearTimeout(this.searchTimer),this.searchTimer=setTimeout((()=>{console.log("搜索关键词:",this.searchKeyword)}),300)},onSearchFocus(){console.log("搜索框获得焦点")},onSearchBlur(){console.log("搜索框失去焦点")},clearSearch(){this.searchKeyword=""},highlightSearchKeyword(t){if(!this.searchKeyword)return t;const e=this.searchKeyword,i=new RegExp(`(${e})`,"gi");return t.replace(i,'<span style="color: #007AFF; background: #E3F2FD;">$1</span>')},getCurrentLocation(){console.log("🌍 获取当前位置"),this.loadingText="正在获取位置信息...",setTimeout((()=>{this.locationCity={id:"location_001",name:"郑州",code:"zhengzhou",description:"根据您的位置自动识别",coordinates:{longitude:113.625368,latitude:34.746611},lockerCount:156},console.log("✅ 定位成功:",this.locationCity)}),1e3)},loadCurrentCity(){try{const t=e("selectedCity");t&&(this.currentSelectedCity=t,console.log("当前选择的城市:",t),setTimeout((()=>{this.updateCityCategories()}),50))}catch(t){console.error("获取当前城市失败:",t)}},async loadCities(){this.isLoading=!0,this.loadingText="正在从数据库加载城市列表...";try{const t=await this.getCitiesFromAPI();this.cities=t,this.hotCities=this.getHotCities(t),console.log("✅ 从数据库加载城市列表成功:",t.length,"个城市"),t.length>0&&i({title:`已加载${t.length}个城市`,icon:"success",duration:1500})}catch(t){console.error("从数据库获取城市列表失败:",t),t.message.includes("认证")?(console.log("🔄 API需要认证，请确保后端服务已重启"),i({title:"连接服务器中...",icon:"loading",duration:2e3})):i({title:"网络连接失败，使用离线数据",icon:"none",duration:2e3});const e=this.getDefaultCities();this.cities=e,this.hotCities=this.getHotCities(e),console.log("⚠️ 使用后备城市列表:",e.length,"个城市")}finally{this.isLoading=!1}},getCitiesFromAPI(){return new Promise(((t,e)=>{const i="http://localhost:8000/api/cities?page=1&page_size=50";console.log("📡 调用后端城市列表接口:",i),s({url:i,method:"GET",header:{"Content-Type":"application/json",Accept:"application/json"},timeout:1e4,success:i=>{if(console.log("=== 后端城市列表接口响应 ==="),console.log("HTTP状态码:",i.statusCode),console.log("响应数据:",i.data),200===i.statusCode&&i.data){const e=this.processBackendCities(i.data);console.log("✅ 处理后的城市数据:",e.length,"个城市"),t(e)}else 401===i.statusCode?(console.log("⚠️ API需要认证，后端服务可能需要重启以应用白名单更改"),e(new Error("API需要认证，请重启后端服务"))):(console.log("⚠️ API返回非200状态码，使用默认数据"),e(new Error(`API请求失败: ${i.statusCode}`)))},fail:t=>{console.log("⚠️ 后端城市列表API调用失败:",t),console.log("错误详情:",{errMsg:t.errMsg,statusCode:t.statusCode,data:t.data}),e(t)}})}))},processBackendCities(t){console.log("🔄 处理后端城市数据"),console.log("原始后端数据:",t);let e=[];return t.data&&Array.isArray(t.data)?e=t.data:t.cities&&Array.isArray(t.cities)?e=t.cities:t.list&&Array.isArray(t.list)?e=t.list:Array.isArray(t)?e=t:(console.log("⚠️ 未识别的响应数据格式，尝试提取所有可能的数组字段"),Object.keys(t).forEach((i=>{Array.isArray(t[i])&&t[i].length>0&&(console.log(`发现数组字段: ${i}`,t[i]),0===e.length&&(e=t[i]))}))),Array.isArray(e)&&0!==e.length?e.map(((t,e)=>{console.log(`处理第${e+1}个城市:`,t);const i={id:t.id||t.city_id||t.cityId||`city_${e+1}`,name:t.name||t.city_name||t.cityName||`城市${e+1}`,code:t.code||t.city_code||t.cityCode||this.generateCityCode(t.name||`city${e+1}`),pinyin:t.pinyin||t.py||this.generatePinyin(t.name||""),firstLetter:t.first_letter||t.firstLetter||this.getFirstLetter(t.name||""),lockerCount:parseInt(t.locker_count||t.lockerCount||t.point_count||t.pointCount||0),level:parseInt(t.level||t.city_level||t.cityLevel||4),description:t.description||t.desc||t.remark||this.generateCityDescription(t.name||""),coordinates:{longitude:parseFloat(t.longitude||t.lng||t.lon||116.4074),latitude:parseFloat(t.latitude||t.lat||39.9042)},status:t.status||t.state||"active",createdAt:t.created_at||t.createdAt||(new Date).toISOString(),rawData:t};return console.log(`处理后的第${e+1}个城市:`,i),i})).filter((t=>"active"===t.status)):(console.log("⚠️ 无有效城市数据，返回空数组"),[])},generateCityCode:t=>({"北京":"beijing","上海":"shanghai","广州":"guangzhou","深圳":"shenzhen","杭州":"hangzhou","南京":"nanjing","成都":"chengdu","武汉":"wuhan","西安":"xian","重庆":"chongqing","天津":"tianjin","苏州":"suzhou","郑州":"zhengzhou","长沙":"changsha","青岛":"qingdao","大连":"dalian"}[t]||t.toLowerCase().replace(/\s+/g,"")),generatePinyin(t){return this.generateCityCode(t)},getFirstLetter(t){if(!t)return"A";const e=t.charAt(0);return{"北":"B","上":"S","广":"G","深":"S","杭":"H","南":"N","成":"C","武":"W","西":"X","重":"C","天":"T","苏":"S","郑":"Z","长":"C","青":"Q","大":"D","宁":"N","厦":"X","济":"J","哈":"H","昆":"K","福":"F","石":"S","太":"T"}[e]||e.toUpperCase()},generateCityDescription:t=>({"北京":"首都，政治文化中心","上海":"经济金融中心","广州":"华南地区中心城市","深圳":"科技创新之城","杭州":"电商之都，西湖美景","南京":"六朝古都，教育名城","成都":"天府之国，美食之都","武汉":"九省通衢，教育重镇","西安":"千年古都，丝路起点","重庆":"山城火锅，网红之都","天津":"海河之滨，近代名城","苏州":"园林之城，丝绸之府","郑州":"中原腹地，交通枢纽"}[t]||"美丽的城市"),getHotCities(t){const e=["北京","上海","广州","深圳","杭州","南京","成都","武汉","西安","郑州","重庆","天津","苏州","长沙","青岛","大连","宁波","厦门"];return t.filter((t=>e.includes(t.name))).sort(((t,e)=>(e.lockerCount||0)-(t.lockerCount||0))).slice(0,18)},getDefaultCities(){return[{id:1,name:"北京",code:"beijing",pinyin:"beijing",firstLetter:"B",lockerCount:0,level:1,description:"首都，政治文化中心"},{id:2,name:"上海",code:"shanghai",pinyin:"shanghai",firstLetter:"S",lockerCount:0,level:1,description:"经济金融中心"},{id:3,name:"广州",code:"guangzhou",pinyin:"guangzhou",firstLetter:"G",lockerCount:0,level:1,description:"华南地区中心城市"},{id:4,name:"深圳",code:"shenzhen",pinyin:"shenzhen",firstLetter:"S",lockerCount:0,level:1,description:"科技创新之城"},{id:5,name:"杭州",code:"hangzhou",pinyin:"hangzhou",firstLetter:"H",lockerCount:0,level:2,description:"电商之都，西湖美景"},{id:6,name:"南京",code:"nanjing",pinyin:"nanjing",firstLetter:"N",lockerCount:0,level:2,description:"六朝古都，教育名城"},{id:7,name:"成都",code:"chengdu",pinyin:"chengdu",firstLetter:"C",lockerCount:0,level:2,description:"天府之国，美食之都"},{id:8,name:"武汉",code:"wuhan",pinyin:"wuhan",firstLetter:"W",lockerCount:0,level:2,description:"九省通衢，教育重镇"},{id:9,name:"西安",code:"xian",pinyin:"xian",firstLetter:"X",lockerCount:0,level:2,description:"千年古都，丝路起点"},{id:10,name:"郑州",code:"zhengzhou",pinyin:"zhengzhou",firstLetter:"Z",lockerCount:0,level:3,description:"中原腹地，交通枢纽"}].map((t=>({...t,coordinates:this.getCityCoordinates(t.code),status:"active"})))},getCityCoordinates:t=>({beijing:{longitude:116.4074,latitude:39.9042},shanghai:{longitude:121.4737,latitude:31.2304},guangzhou:{longitude:113.2644,latitude:23.1291},shenzhen:{longitude:114.0579,latitude:22.5431},hangzhou:{longitude:120.1551,latitude:30.2741},nanjing:{longitude:118.7969,latitude:32.0603},chengdu:{longitude:104.0668,latitude:30.5728},wuhan:{longitude:114.3054,latitude:30.5931},xian:{longitude:108.9402,latitude:34.3416},chongqing:{longitude:106.5516,latitude:29.563},tianjin:{longitude:117.1901,latitude:39.1235},suzhou:{longitude:120.6197,latitude:31.3117},zhengzhou:{longitude:113.6253,latitude:34.7466},changsha:{longitude:112.9388,latitude:28.2282},qingdao:{longitude:120.3826,latitude:36.0671},dalian:{longitude:121.6147,latitude:38.914},ningbo:{longitude:121.544,latitude:29.8683},xiamen:{longitude:118.1689,latitude:24.4797},jinan:{longitude:117.0009,latitude:36.6758},haerbin:{longitude:126.6424,latitude:45.756},kunming:{longitude:102.8329,latitude:24.8801},fuzhou:{longitude:119.3063,latitude:26.0745},shijiazhuang:{longitude:114.5149,latitude:38.0428},taiyuan:{longitude:112.5489,latitude:37.8706},changchun:{longitude:125.3245,latitude:43.8171},shenyang:{longitude:123.4315,latitude:41.8057},wuxi:{longitude:120.3019,latitude:31.5747},wenzhou:{longitude:120.6994,latitude:27.9944},hefei:{longitude:117.2272,latitude:31.8206},nanchang:{longitude:115.8921,latitude:28.6765},guiyang:{longitude:106.7135,latitude:26.5783},nanning:{longitude:108.3669,latitude:22.817},haikou:{longitude:110.3312,latitude:20.0311},lanzhou:{longitude:103.8236,latitude:36.0581},yinchuan:{longitude:106.2309,latitude:38.4872},xining:{longitude:101.7782,latitude:36.6171},wulumuqi:{longitude:87.6177,latitude:43.7928},lasa:{longitude:91.1322,latitude:29.6544},huhehaote:{longitude:111.7519,latitude:40.8427},zhuhai:{longitude:113.5767,latitude:22.2707},shantou:{longitude:116.7081,latitude:23.3839},foshan:{longitude:113.122,latitude:23.0291},dongguan:{longitude:113.7518,latitude:23.0489},zhongshan:{longitude:113.3823,latitude:22.5211},huizhou:{longitude:114.4152,latitude:23.1115},jiangmen:{longitude:113.0946,latitude:22.5901},zhanjiang:{longitude:110.3594,latitude:21.2707},maoming:{longitude:110.9255,latitude:21.6687},zhaoqing:{longitude:112.4444,latitude:23.0786},qingyuan:{longitude:113.051,latitude:23.7016}}[t]||{longitude:116.4074,latitude:39.9042}),getCityDescription:t=>t.description?t.description:t.lockerCount?`${t.lockerCount}个寄存点`:"暂无寄存点信息",scrollToLetter(t){this.currentLetter=t,console.log("滚动到字母:",t)},onScroll(t){console.log("滚动事件:",t)},updateCityCategories(){let t="郑州";try{const i=e("selectedCity");i&&i.name?(t=i.name,this.currentSelectedCity=i):this.currentSelectedCity&&this.currentSelectedCity.name&&(t=this.currentSelectedCity.name)}catch(s){console.error("获取当前城市失败:",s)}console.log("🔄 更新城市分类数据，当前城市:",t);const i=this.cityCategories[t];i?(this.currentCityCategories={attractions:[...i.attractions],stations:[...i.stations],subwayStations:[...i.subwayStations],businessAreas:[...i.businessAreas]},console.log("✅ 城市分类数据已更新:",{city:t,attractions:this.currentCityCategories.attractions.length,stations:this.currentCityCategories.stations.length,subwayStations:this.currentCityCategories.subwayStations.length,businessAreas:this.currentCityCategories.businessAreas.length})):(console.log("⚠️ 未找到城市分类数据配置，自动生成"),this.currentCityCategories=this.generateCityCategories(t),console.log("✅ 自动生成城市分类数据:",this.currentCityCategories))},generateCityCategories(t){console.log("🎯 为城市自动生成分类数据:",t);const e=t.replace(/[市省区县]/g,""),i={attractions:[`${e}公园`,`${e}广场`,`${e}博物馆`,`${e}古城`,`${e}风景区`,`${e}文化中心`],stations:[`${e}站`,`${e}东站`,`${e}机场`],subwayStations:[`${e}中心站`,`${e}广场站`,`${e}火车站`,`${e}汽车站`,`${e}体育馆站`],businessAreas:[`${e}万达`,`${e}购物中心`,`${e}商业街`,`${e}步行街`]};return this.cityCategories[t]=i,i},searchInCurrentCity(t){console.log("在当前城市搜索:",t);try{if(!this.currentSelectedCity)return void i({title:"请先选择城市",icon:"none"});a({url:`/pages/search/search?keyword=${encodeURIComponent(t)}`})}catch(e){console.error("搜索时发生错误:",e),i({title:"搜索失败",icon:"none"})}},selectCity(e){console.log("选择城市:",e);try{const s={...e,selectedAt:(new Date).toISOString()};n("selectedCity",s),this.currentSelectedCity=s,this.updateCityCategories(),i({title:`已选择${e.name}`,icon:"success",duration:1500}),setTimeout((()=>{t()}),1500)}catch(s){console.error("选择城市时发生错误:",s),i({title:"选择城市失败",icon:"none"})}}}},[["render",function(t,e,i,s,a,n){const b=p,w=c,S=_,A=m;return r(),o(w,{class:"page"},{default:l((()=>[u(w,{class:"header"},{default:l((()=>[u(w,{class:"header-content"},{default:l((()=>[u(w,{class:"back-btn",onClick:n.goBack},{default:l((()=>[u(b,{class:"back-icon"},{default:l((()=>[d("←")])),_:1})])),_:1},8,["onClick"]),u(b,{class:"header-title"},{default:l((()=>[d("选择城市")])),_:1}),u(w,{class:"location-btn",onClick:n.getCurrentLocation},{default:l((()=>[u(b,{class:"location-icon"},{default:l((()=>[d("📍")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),u(w,{class:"search-section"},{default:l((()=>[u(w,{class:"search-container"},{default:l((()=>[u(w,{class:"search-box"},{default:l((()=>[u(b,{class:"search-icon"},{default:l((()=>[d("🔍")])),_:1}),u(S,{class:"search-input",placeholder:"搜索城市名称或拼音",modelValue:a.searchKeyword,"onUpdate:modelValue":e[0]||(e[0]=t=>a.searchKeyword=t),onInput:n.onSearchInput,onFocus:n.onSearchFocus,onBlur:n.onSearchBlur},null,8,["modelValue","onInput","onFocus","onBlur"]),a.searchKeyword?(r(),o(w,{key:0,class:"clear-btn",onClick:n.clearSearch},{default:l((()=>[u(b,{class:"clear-icon"},{default:l((()=>[d("✕")])),_:1})])),_:1},8,["onClick"])):g("",!0)])),_:1})])),_:1})])),_:1}),a.locationCity&&!a.searchKeyword?(r(),o(w,{key:0,class:"location-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("📍 当前定位")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("基于您的位置推荐")])),_:1})])),_:1}),u(w,{class:"location-city-item",onClick:e[1]||(e[1]=t=>n.selectCity(a.locationCity))},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(a.locationCity.name),1)])),_:1}),u(b,{class:"city-desc"},{default:l((()=>[d(h(a.locationCity.description||"当前定位城市"),1)])),_:1})])),_:1}),u(w,{class:"city-action"},{default:l((()=>[u(b,{class:"action-text"},{default:l((()=>[d("选择")])),_:1}),u(b,{class:"action-icon"},{default:l((()=>[d("→")])),_:1})])),_:1})])),_:1})])),_:1})):g("",!0),a.currentSelectedCity&&!a.searchKeyword?(r(),o(w,{key:1,class:"current-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("✓ 当前选择")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("您正在使用的城市")])),_:1})])),_:1}),u(w,{class:"current-city-item",onClick:e[2]||(e[2]=t=>n.selectCity(a.currentSelectedCity))},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(a.currentSelectedCity.name),1)])),_:1}),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(a.currentSelectedCity)),1)])),_:1})])),_:1}),u(w,{class:"city-status"},{default:l((()=>[u(b,{class:"status-text"},{default:l((()=>[d("已选择")])),_:1}),u(b,{class:"status-icon"},{default:l((()=>[d("✓")])),_:1})])),_:1})])),_:1})])),_:1})):g("",!0),a.searchKeyword?g("",!0):(r(),o(w,{key:2,class:"hot-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("🔥 热门城市")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d(h(a.hotCities.length)+"个热门城市",1)])),_:1})])),_:1}),u(w,{class:"hot-cities-grid"},{default:l((()=>[(r(!0),y(f,null,C(a.hotCities,(t=>{var e;return r(),o(w,{class:k(["hot-city-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code),"has-lockers":t.lockerCount>0}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(t.name),1)])),_:2},1024),t.lockerCount?(r(),o(b,{key:0,class:"city-count"},{default:l((()=>[d(h(t.lockerCount)+"个寄存点",1)])),_:2},1024)):g("",!0)])),_:2},1032,["onClick","class"])})),128))])),_:1})])),_:1})),g("",!0),a.searchKeyword?(r(),o(w,{key:4,class:"search-results"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("🔍 搜索结果")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("找到"+h(n.filteredCities.length)+"个城市",1)])),_:1})])),_:1}),n.filteredCities.length>0?(r(),o(w,{key:0,class:"search-list"},{default:l((()=>[(r(!0),y(f,null,C(n.filteredCities,(t=>{var e;return r(),o(w,{class:k(["search-result-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code)}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name",innerHTML:n.highlightSearchKeyword(t.name)},null,8,["innerHTML"]),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(t)),1)])),_:2},1024)])),_:2},1024),u(w,{class:"city-meta"},{default:l((()=>[t.lockerCount?(r(),o(b,{key:0,class:"locker-count"},{default:l((()=>[d(h(t.lockerCount)+"个寄存点",1)])),_:2},1024)):g("",!0),u(b,{class:"select-icon"},{default:l((()=>[d("→")])),_:1})])),_:2},1024)])),_:2},1032,["onClick","class"])})),128))])),_:1})):(r(),o(w,{key:1,class:"empty-result"},{default:l((()=>[u(b,{class:"empty-icon"},{default:l((()=>[d("🔍")])),_:1}),u(b,{class:"empty-text"},{default:l((()=>[d('未找到"'+h(a.searchKeyword)+'"相关的城市',1)])),_:1}),u(b,{class:"empty-hint"},{default:l((()=>[d("试试搜索其他城市名称或拼音")])),_:1})])),_:1}))])),_:1})):g("",!0),a.searchKeyword?g("",!0):(r(),o(w,{key:5,class:"all-cities-section"},{default:l((()=>[u(w,{class:"section-header"},{default:l((()=>[u(b,{class:"section-title"},{default:l((()=>[d("🏙️ 全部城市")])),_:1}),u(b,{class:"section-subtitle"},{default:l((()=>[d("按字母排序")])),_:1})])),_:1}),u(w,{class:"alphabet-index"},{default:l((()=>[(r(!0),y(f,null,C(n.alphabetList,(t=>(r(),o(w,{class:k(["alphabet-item",{active:a.currentLetter===t}]),key:t,onClick:e=>n.scrollToLetter(t)},{default:l((()=>[u(b,{class:"alphabet-text"},{default:l((()=>[d(h(t),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:1}),u(A,{class:"cities-scroll","scroll-y":"true",onScroll:n.onScroll},{default:l((()=>[(r(!0),y(f,null,C(n.groupedCities,(t=>(r(),o(w,{class:"letter-group",key:t.letter,id:"letter-"+t.letter},{default:l((()=>[u(w,{class:"letter-header"},{default:l((()=>[u(b,{class:"letter-title"},{default:l((()=>[d(h(t.letter),1)])),_:2},1024)])),_:2},1024),u(w,{class:"cities-list"},{default:l((()=>[(r(!0),y(f,null,C(t.cities,(t=>{var e;return r(),o(w,{class:k(["city-list-item",{selected:t.code===(null==(e=a.currentSelectedCity)?void 0:e.code)}]),key:t.code,onClick:e=>n.selectCity(t)},{default:l((()=>[u(w,{class:"city-info"},{default:l((()=>[u(b,{class:"city-name"},{default:l((()=>[d(h(t.name),1)])),_:2},1024),u(b,{class:"city-desc"},{default:l((()=>[d(h(n.getCityDescription(t)),1)])),_:2},1024)])),_:2},1024),u(w,{class:"city-meta"},{default:l((()=>[t.lockerCount?(r(),o(b,{key:0,class:"locker-count"},{default:l((()=>[d(h(t.lockerCount)+"个寄存点",1)])),_:2},1024)):g("",!0),u(b,{class:"select-icon"},{default:l((()=>[d("→")])),_:1})])),_:2},1024)])),_:2},1032,["onClick","class"])})),128))])),_:2},1024)])),_:2},1032,["id"])))),128))])),_:1},8,["onScroll"])])),_:1})),a.isLoading?(r(),o(w,{key:6,class:"loading-overlay"},{default:l((()=>[u(w,{class:"loading-content"},{default:l((()=>[u(w,{class:"loading-spinner"}),u(b,{class:"loading-text"},{default:l((()=>[d(h(a.loadingText),1)])),_:1})])),_:1})])),_:1})):g("",!0)])),_:1})}],["__scopeId","data-v-9c6f39bc"]]);export{w as default};
