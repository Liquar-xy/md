import{g as a,p as e,a as l,c as s,y as t,m as n,J as o,d as c,e as r,w as u,i as d,o as i,f,j as m,k as h,u as p,I as _,l as I}from"./index-BAOqw0gZ.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=g({data:()=>({userInfo:{username:"ç®¡ç†å‘˜",realName:"",phone:"",email:"",adminId:"1",avatar:""}}),onLoad(){this.loadUserInfo()},methods:{loadUserInfo(){try{const e=a("adminData");if(e){const a=JSON.parse(e);this.userInfo.username=a.username||"ç®¡ç†å‘˜",this.userInfo.adminId=a.userId||a.account||a.id||"",this.userInfo.realName=a.realName||"",this.userInfo.phone=a.phoneNumber||a.phone||"",this.userInfo.email=a.email||"",this.userInfo.avatar=a.avatar||""}}catch(e){console.log("åŠ è½½ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}},handleBack(){e()},handleSave(){if(this.userInfo.username.trim())try{const a={username:this.userInfo.username,account:this.userInfo.adminId,realName:this.userInfo.realName,phone:this.userInfo.phone,email:this.userInfo.email,avatar:this.userInfo.avatar,loginType:"admin"};s("adminData",JSON.stringify(a)),l({title:"ä¿å­˜æˆåŠŸ",icon:"success"})}catch(a){console.log("ä¿å­˜å¤±è´¥:",a),l({title:"ä¿å­˜å¤±è´¥",icon:"none"})}else l({title:"è¯·è¾“å…¥ç”¨æˆ·å",icon:"none"})},handleChangeAvatar(){t({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:a=>{this.userInfo.avatar=a.tempFilePaths[0],l({title:"å¤´åƒå·²æ›´æ–°",icon:"success"})}})},handleChangePassword(){n({title:"ä¿®æ”¹å¯†ç ",content:"è¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜ä¿®æ”¹å¯†ç ",showCancel:!1})},handleLogout(){n({title:"ç¡®è®¤é€€å‡º",content:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",success:a=>{if(a.confirm){try{o("adminData"),console.log("ç®¡ç†å‘˜æ•°æ®å·²æ¸…é™¤")}catch(e){console.log("æ¸…é™¤æ•°æ®å¤±è´¥:",e)}l({title:"å·²é€€å‡ºç™»å½•",icon:"success",success:()=>{setTimeout((()=>{c({url:"/pages/login/login"})}),1500)}})}}})}}},[["render",function(a,e,l,s,t,n){const o=h,c=d,g=p,v=_,b=I;return i(),r(c,{class:"profile-container"},{default:u((()=>[f(c,{class:"header"},{default:u((()=>[f(c,{class:"header-left"},{default:u((()=>[f(o,{class:"back-icon",onClick:n.handleBack},{default:u((()=>[m("â†")])),_:1},8,["onClick"])])),_:1}),f(c,{class:"header-center"},{default:u((()=>[f(o,{class:"header-title"},{default:u((()=>[m("ä¸ªäººä¿¡æ¯")])),_:1})])),_:1}),f(c,{class:"header-right"},{default:u((()=>[f(o,{class:"save-icon",onClick:n.handleSave},{default:u((()=>[m("ðŸ’¾")])),_:1},8,["onClick"])])),_:1})])),_:1}),f(c,{class:"avatar-section"},{default:u((()=>[f(c,{class:"avatar-container",onClick:n.handleChangeAvatar},{default:u((()=>[f(g,{class:"avatar",src:t.userInfo.avatar||"/static/logo.png",mode:"aspectFill"},null,8,["src"]),f(c,{class:"avatar-edit"},{default:u((()=>[f(o,{class:"edit-icon"},{default:u((()=>[m("ðŸ“·")])),_:1})])),_:1})])),_:1},8,["onClick"]),f(o,{class:"avatar-tip"},{default:u((()=>[m("ç‚¹å‡»æ›´æ¢å¤´åƒ")])),_:1})])),_:1}),f(c,{class:"form-section"},{default:u((()=>[f(c,{class:"form-item"},{default:u((()=>[f(o,{class:"form-label"},{default:u((()=>[m("ç”¨æˆ·å")])),_:1}),f(v,{class:"form-input",modelValue:t.userInfo.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.userInfo.username=a),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["modelValue"])])),_:1}),f(c,{class:"form-item"},{default:u((()=>[f(o,{class:"form-label"},{default:u((()=>[m("çœŸå®žå§“å")])),_:1}),f(v,{class:"form-input",modelValue:t.userInfo.realName,"onUpdate:modelValue":e[1]||(e[1]=a=>t.userInfo.realName=a),placeholder:"è¯·è¾“å…¥çœŸå®žå§“å"},null,8,["modelValue"])])),_:1}),f(c,{class:"form-item"},{default:u((()=>[f(o,{class:"form-label"},{default:u((()=>[m("æ‰‹æœºå·ç ")])),_:1}),f(v,{class:"form-input",modelValue:t.userInfo.phone,"onUpdate:modelValue":e[2]||(e[2]=a=>t.userInfo.phone=a),placeholder:"è¯·è¾“å…¥æ‰‹æœºå·ç ",type:"number"},null,8,["modelValue"])])),_:1}),f(c,{class:"form-item"},{default:u((()=>[f(o,{class:"form-label"},{default:u((()=>[m("é‚®ç®±åœ°å€")])),_:1}),f(v,{class:"form-input",modelValue:t.userInfo.email,"onUpdate:modelValue":e[3]||(e[3]=a=>t.userInfo.email=a),placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",type:"email"},null,8,["modelValue"])])),_:1}),f(c,{class:"form-item"},{default:u((()=>[f(o,{class:"form-label"},{default:u((()=>[m("ç®¡ç†å‘˜ID")])),_:1}),f(v,{class:"form-input",modelValue:t.userInfo.adminId,"onUpdate:modelValue":e[4]||(e[4]=a=>t.userInfo.adminId=a),placeholder:"ç®¡ç†å‘˜ID",disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),f(c,{class:"action-section"},{default:u((()=>[f(b,{class:"action-btn primary",onClick:n.handleSave},{default:u((()=>[f(o,{class:"btn-icon"},{default:u((()=>[m("ðŸ’¾")])),_:1}),f(o,{class:"btn-text"},{default:u((()=>[m("ä¿å­˜ä¿®æ”¹")])),_:1})])),_:1},8,["onClick"]),f(b,{class:"action-btn warning",onClick:n.handleChangePassword},{default:u((()=>[f(o,{class:"btn-icon"},{default:u((()=>[m("ðŸ”’")])),_:1}),f(o,{class:"btn-text"},{default:u((()=>[m("ä¿®æ”¹å¯†ç ")])),_:1})])),_:1},8,["onClick"]),f(b,{class:"action-btn danger",onClick:n.handleLogout},{default:u((()=>[f(o,{class:"btn-icon"},{default:u((()=>[m("ðŸšª")])),_:1}),f(o,{class:"btn-text"},{default:u((()=>[m("é€€å‡ºç™»å½•")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-84aa91ed"]]);export{v as default};
