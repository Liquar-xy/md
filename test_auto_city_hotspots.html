<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>城市热门地点自动更新测试</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .city-selector {
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 10px 20px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .city-selector:hover {
            background: rgba(255,255,255,0.3);
        }

        .content {
            padding: 20px;
        }

        .test-controls {
            margin-bottom: 30px;
        }

        .test-controls h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 16px;
        }

        .city-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .city-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .city-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .city-btn.active {
            background: linear-gradient(135deg, #52C41A 0%, #73D13D 100%);
        }

        .categories-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .category-group {
            margin-bottom: 20px;
        }

        .category-group:last-child {
            margin-bottom: 0;
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e9ecef;
        }

        .category-badge {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 14px;
        }

        .category-badge.attractions {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
        }

        .category-badge.stations {
            background: linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%);
        }

        .category-badge.subway {
            background: linear-gradient(135deg, #52C41A 0%, #73D13D 100%);
        }

        .category-badge.business {
            background: linear-gradient(135deg, #9C27B0 0%, #E91E63 100%);
        }

        .category-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            flex: 1;
        }

        .category-count {
            font-size: 12px;
            color: #666;
            background: rgba(0, 122, 255, 0.1);
            padding: 4px 8px;
            border-radius: 8px;
        }

        .category-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .category-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            padding: 8px 12px;
            font-size: 13px;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .category-item:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-1px);
        }

        .status {
            background: #e8f5e8;
            border: 1px solid #52c41a;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #52c41a;
        }

        .log {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-entry.success {
            color: #52c41a;
        }

        .log-entry.warning {
            color: #fa8c16;
        }

        .log-entry.error {
            color: #f5222d;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        .empty-state .icon {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏙️ 城市热门地点测试</h1>
            <div class="city-selector" onclick="showCitySelector()">
                <span id="currentCity">郑州</span>
                <span>▼</span>
            </div>
        </div>

        <div class="content">
            <div class="test-controls">
                <h3>🎯 选择测试城市</h3>
                <div class="city-buttons">
                    <button class="city-btn active" onclick="switchCity('郑州')">郑州</button>
                    <button class="city-btn" onclick="switchCity('北京')">北京</button>
                    <button class="city-btn" onclick="switchCity('上海')">上海</button>
                    <button class="city-btn" onclick="switchCity('锦州')">锦州</button>
                    <button class="city-btn" onclick="switchCity('广州')">广州</button>
                    <button class="city-btn" onclick="switchCity('深圳')">深圳</button>
                    <button class="city-btn" onclick="switchCity('杭州')">杭州</button>
                    <button class="city-btn" onclick="switchCity('南京')">南京</button>
                </div>
            </div>

            <div class="status" id="status">
                ✅ 当前显示：郑州的热门地点
            </div>

            <div class="categories-section" id="categoriesSection">
                <!-- 动态生成的分类内容 -->
            </div>

            <div class="log" id="log">
                <div class="log-entry success">✅ 页面初始化完成</div>
                <div class="log-entry">📍 当前城市：郑州</div>
                <div class="log-entry">🔄 正在加载城市分类数据...</div>
            </div>
        </div>
    </div>

    <script>
        // 城市分类数据配置
        const cityCategories = {
            '郑州': {
                attractions: ['美景天城', '大卫城', '国贸360', '万特', '少林寺', '银基动物王国'],
                stations: ['郑州站', '郑州东站', '新郑国际机场'],
                subwayStations: ['二七广场', '陇海路地铁站', '航海广场站', '紫荆山站', '人民路站'],
                businessAreas: ['熙地港购物中心', '二七广场', '正弘城', '万达广场', '国贸360']
            },
            '北京': {
                attractions: ['天安门', '故宫', '颐和园', '天坛', '长城', '鸟巢'],
                stations: ['北京站', '北京西站', '北京南站', '首都国际机场', '大兴国际机场'],
                subwayStations: ['天安门东', '王府井', '西单', '国贸', '三里屯'],
                businessAreas: ['王府井', '西单', '国贸', '三里屯', '中关村']
            },
            '上海': {
                attractions: ['外滩', '东方明珠', '豫园', '城隍庙', '朱家角', '迪士尼'],
                stations: ['上海站', '上海虹桥站', '上海南站', '浦东国际机场', '虹桥机场'],
                subwayStations: ['人民广场', '南京路', '陆家嘴', '徐家汇', '静安寺'],
                businessAreas: ['南京路', '淮海路', '陆家嘴', '徐家汇', '静安寺']
            },
            '锦州': {
                attractions: ['锦州古城', '笔架山', '医巫闾山', '锦州世博园', '辽沈战役纪念馆', '北普陀山'],
                stations: ['锦州站', '锦州南站', '锦州机场'],
                subwayStations: ['锦州火车站', '市政府', '锦州医科大学', '渤海大学', '锦州港'],
                businessAreas: ['万达广场', '锦州商业城', '凌河夜市', '锦州步行街']
            },
            '广州': {
                attractions: ['广州塔', '陈家祠', '沙面', '白云山', '长隆', '珠江夜游'],
                stations: ['广州站', '广州南站', '广州东站', '白云国际机场'],
                subwayStations: ['体育西路', '珠江新城', '北京路', '上下九', '天河城'],
                businessAreas: ['天河城', '北京路', '上下九', '珠江新城', '万菱汇']
            },
            '深圳': {
                attractions: ['世界之窗', '欢乐谷', '大梅沙', '莲花山', '华侨城', '东部华侨城'],
                stations: ['深圳站', '深圳北站', '深圳东站', '宝安国际机场'],
                subwayStations: ['罗湖', '国贸', '华强北', '车公庙', '世界之窗'],
                businessAreas: ['华强北', '东门', '海岸城', '万象城', '益田假日广场']
            },
            '杭州': {
                attractions: ['西湖', '灵隐寺', '雷峰塔', '千岛湖', '西溪湿地', '宋城'],
                stations: ['杭州站', '杭州东站', '杭州南站', '萧山国际机场'],
                subwayStations: ['西湖文化广场', '武林广场', '钱江新城', '滨江', '城站'],
                businessAreas: ['武林广场', '湖滨', '钱江新城', '西溪', '滨江']
            },
            '南京': {
                attractions: ['中山陵', '夫子庙', '玄武湖', '总统府', '明孝陵', '秦淮河'],
                stations: ['南京站', '南京南站', '禄口国际机场'],
                subwayStations: ['新街口', '夫子庙', '鼓楼', '玄武门', '中华门'],
                businessAreas: ['新街口', '夫子庙', '湖南路', '江宁万达', '仙林']
            }
        };

        let currentCity = '郑州';

        // 页面初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateCityCategories();
        });

        // 切换城市
        function switchCity(cityName) {
            addLog(`🔄 切换到城市：${cityName}`, 'success');
            
            // 更新当前城市
            currentCity = cityName;
            document.getElementById('currentCity').textContent = cityName;
            
            // 更新按钮状态
            document.querySelectorAll('.city-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent === cityName) {
                    btn.classList.add('active');
                }
            });
            
            // 更新状态
            document.getElementById('status').innerHTML = `✅ 当前显示：${cityName}的热门地点`;
            
            // 更新分类数据
            updateCityCategories();
            
            addLog(`✅ ${cityName}的热门地点已更新`, 'success');
        }

        // 更新城市分类数据
        function updateCityCategories() {
            addLog(`🔄 更新${currentCity}的分类数据...`);
            
            const cityData = cityCategories[currentCity];
            const categoriesSection = document.getElementById('categoriesSection');
            
            if (cityData) {
                let html = '';
                
                // 景点分类
                if (cityData.attractions && cityData.attractions.length > 0) {
                    html += generateCategoryHTML('attractions', '🎡', '景点', cityData.attractions);
                }
                
                // 机场车站分类
                if (cityData.stations && cityData.stations.length > 0) {
                    html += generateCategoryHTML('stations', '🚂', '机场车站', cityData.stations);
                }
                
                // 地铁站分类
                if (cityData.subwayStations && cityData.subwayStations.length > 0) {
                    html += generateCategoryHTML('subway', '🚇', '地铁站', cityData.subwayStations);
                }
                
                // 商圈分类
                if (cityData.businessAreas && cityData.businessAreas.length > 0) {
                    html += generateCategoryHTML('business', '🏢', '商圈', cityData.businessAreas);
                }
                
                categoriesSection.innerHTML = html;
                addLog(`✅ ${currentCity}分类数据加载完成`, 'success');
                
            } else {
                // 如果没有找到城市数据，生成默认数据
                addLog(`⚠️ 未找到${currentCity}的分类数据，自动生成`, 'warning');
                const generatedData = generateCityCategories(currentCity);
                
                let html = '';
                html += generateCategoryHTML('attractions', '🎡', '景点', generatedData.attractions);
                html += generateCategoryHTML('stations', '🚂', '机场车站', generatedData.stations);
                html += generateCategoryHTML('subway', '🚇', '地铁站', generatedData.subwayStations);
                html += generateCategoryHTML('business', '🏢', '商圈', generatedData.businessAreas);
                
                categoriesSection.innerHTML = html;
                addLog(`✅ ${currentCity}分类数据自动生成完成`, 'success');
            }
        }

        // 生成分类HTML
        function generateCategoryHTML(type, icon, title, items) {
            const itemsHTML = items.map(item => 
                `<div class="category-item" onclick="searchLocation('${item}')">
                    <span>${icon}</span>
                    <span>${item}</span>
                </div>`
            ).join('');
            
            return `
                <div class="category-group">
                    <div class="category-header">
                        <div class="category-badge ${type}">${icon}</div>
                        <div class="category-title">${title}</div>
                        <div class="category-count">${items.length}个</div>
                    </div>
                    <div class="category-items">
                        ${itemsHTML}
                    </div>
                </div>
            `;
        }

        // 为新城市自动生成分类数据
        function generateCityCategories(cityName) {
            const cleanCityName = cityName.replace(/[市省区县]/g, '');
            
            return {
                attractions: [
                    `${cleanCityName}公园`,
                    `${cleanCityName}广场`,
                    `${cleanCityName}博物馆`,
                    `${cleanCityName}古城`,
                    `${cleanCityName}风景区`,
                    `${cleanCityName}文化中心`
                ],
                stations: [
                    `${cleanCityName}站`,
                    `${cleanCityName}东站`,
                    `${cleanCityName}机场`
                ],
                subwayStations: [
                    `${cleanCityName}中心站`,
                    `${cleanCityName}广场站`,
                    `${cleanCityName}火车站`,
                    `${cleanCityName}汽车站`,
                    `${cleanCityName}体育馆站`
                ],
                businessAreas: [
                    `${cleanCityName}万达`,
                    `${cleanCityName}购物中心`,
                    `${cleanCityName}商业街`,
                    `${cleanCityName}步行街`
                ]
            };
        }

        // 搜索位置
        function searchLocation(location) {
            addLog(`🔍 搜索位置：${location}`, 'success');
            alert(`模拟搜索：${location}\n\n在实际应用中，这里会跳转到搜索页面并显示相关的寄存点。`);
        }

        // 显示城市选择器
        function showCitySelector() {
            addLog('📍 打开城市选择器');
            alert('在实际应用中，这里会打开城市选择页面');
        }

        // 添加日志
        function addLog(message, type = 'info') {
            const log = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `${new Date().toLocaleTimeString()} - ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        // 测试所有城市
        function testAllCities() {
            const cities = Object.keys(cityCategories);
            let index = 0;
            
            function testNext() {
                if (index < cities.length) {
                    switchCity(cities[index]);
                    index++;
                    setTimeout(testNext, 2000);
                } else {
                    addLog('🎉 所有城市测试完成', 'success');
                }
            }
            
            testNext();
        }

        // 添加测试按钮
        setTimeout(() => {
            const controls = document.querySelector('.test-controls');
            const testBtn = document.createElement('button');
            testBtn.className = 'city-btn';
            testBtn.style.gridColumn = 'span 2';
            testBtn.style.background = 'linear-gradient(135deg, #52C41A 0%, #73D13D 100%)';
            testBtn.textContent = '🧪 自动测试所有城市';
            testBtn.onclick = testAllCities;
            controls.appendChild(testBtn);
        }, 1000);
    </script>
</body>
</html>