<!DOCTYPE html>
<html>
<head>
    <title>æ•°æ®åº“æ£€æŸ¥</title>
    <style>
        body { padding: 20px; font-family: Arial; }
        .result { margin: 10px 0; padding: 10px; background: #f0f0f0; }
        .error { background: #ffebee; color: #c62828; }
        .success { background: #e8f5e8; color: #2e7d32; }
    </style>
</head>
<body>
    <h2>æ•°æ®åº“æ£€æŸ¥</h2>
    
    <div>
        <h3>æµ‹è¯•ç”¨æˆ·ä¿¡æ¯</h3>
        <p>æ‰‹æœºå·: 13800138000</p>
        <p>å¯†ç : 123456</p>
        <p>éªŒè¯ç : 1234</p>
    </div>
    
    <button onclick="testLogin()">æµ‹è¯•ç™»å½•</button>
    <button onclick="checkUser()">æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨</button>
    
    <div id="result" class="result"></div>

    <script>
        function testLogin() {
            const data = {
                Mobile: '13800138000',
                Password: '123456',
                SmsCode: '1234'
            };
            
            document.getElementById('result').innerHTML = 'ç™»å½•ä¸­...';
            
            fetch('http://localhost:8000/admin/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams(data)
            })
            .then(res => res.json())
            .then(data => {
                console.log('ç™»å½•å“åº”:', data);
                
                if (data.code === 200 || data.code === "200") {
                    document.getElementById('result').innerHTML = 
                        '<div class="success">âœ… ç™»å½•æˆåŠŸ!<br>' +
                        'ID: ' + data.id + '<br>' +
                        'Token: ' + (data.token ? data.token.substring(0, 20) + '...' : 'N/A') + '</div>';
                } else {
                    document.getElementById('result').innerHTML = 
                        '<div class="error">âŒ ç™»å½•å¤±è´¥: ' + (data.msg || 'æœªçŸ¥é”™è¯¯') + '</div>';
                }
            })
            .catch(err => {
                document.getElementById('result').innerHTML = 
                    '<div class="error">âŒ è¯·æ±‚å¤±è´¥: ' + err.message + '</div>';
            });
        }
        
        function checkUser() {
            document.getElementById('result').innerHTML = 
                '<div class="error">âŒ ç”¨æˆ·ä¸å­˜åœ¨<br><br>' +
                'ğŸ’¡ è§£å†³æ–¹æ¡ˆ:<br>' +
                '1. æ£€æŸ¥æ•°æ®åº“è¿æ¥<br>' +
                '2. ç¡®è®¤adminè¡¨å­˜åœ¨<br>' +
                '3. æ‰§è¡ŒSQL: INSERT INTO admin (mobile, password) VALUES ("13800138000", "123456");<br>' +
                '4. æˆ–è€…ä¿®æ”¹å‰ç«¯ä»£ç ä½¿ç”¨æ­£ç¡®çš„ç”¨æˆ·ä¿¡æ¯</div>';
        }
    </script>
</body>
</html> 